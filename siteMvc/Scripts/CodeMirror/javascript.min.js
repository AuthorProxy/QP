CodeMirror.defineMode("javascript",function(n,t){function ct(n,t,i){return t.tokenize=i,i(n,t)}function lt(n,t){for(var i=!1,r;(r=n.next())!=null;){if(r==t&&!i)return!1;i=!i&&r=="\\"}return i}function h(n,t,i){return v=n,y=i,t}function p(n,t){var i=n.next(),r,u;return i=='"'||i=="'"?ct(n,t,gt(i)):/[\[\]{}\(\),;\:\.]/.test(i)?h(i):i=="0"&&n.eat(/x/i)?(n.eatWhile(/[\da-f]/i),h("number","number")):/\d/.test(i)||i=="-"&&n.eat(/\d/)?(n.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),h("number","number")):i=="/"?n.eat("*")?ct(n,t,it):n.eat("/")?(n.skipToEnd(),h("comment","comment")):t.lastType=="operator"||t.lastType=="keyword c"||/^[\[{}\(,;:]$/.test(t.lastType)?(lt(n,"/"),n.eatWhile(/[gimy]/),h("regexp","string-2")):(n.eatWhile(tt),h("operator",null,n.current())):i=="#"?(n.skipToEnd(),h("error","error")):tt.test(i)?(n.eatWhile(tt),h("operator",null,n.current())):(n.eatWhile(/[\w\$_]/),r=n.current(),u=ht.propertyIsEnumerable(r)&&ht[r],u&&t.lastType!="."?h(u.type,u.style,r):h("variable","variable",r))}function gt(n){return function(t,i){return lt(t,n)||(i.tokenize=p),h("string","string")}}function it(n,t){for(var r=!1,i;i=n.next();){if(i=="/"&&r){t.tokenize=p;break}r=i=="*"}return h("comment","comment")}function rt(n,t,i,r,u,f){this.indented=n;this.column=t;this.type=i;this.prev=u;this.info=f;r!=null&&(this.align=r)}function ni(n,t){for(var i=n.localVars;i;i=i.next)if(i.name==t)return!0}function ti(n,t,i,u,f){var o=n.cc,s;for(r.state=n,r.stream=f,r.marked=null,r.cc=o,n.lexical.hasOwnProperty("align")||(n.lexical.align=!0);;)if(s=o.length?o.pop():a?e:c,s(i,u)){while(o.length&&o[o.length-1].lex)o.pop()();return r.marked?r.marked:i=="variable"&&ni(n,u)?"variable-2":t}}function s(){for(var n=arguments.length-1;n>=0;n--)r.cc.push(arguments[n])}function i(){return s.apply(null,arguments),!0}function ut(n){function i(t){for(var i=t;i;i=i.next)if(i.name==n)return!0;return!1}var t=r.state;if(t.context){if(r.marked="def",i(t.localVars))return;t.localVars={name:n,next:t.localVars}}else{if(i(t.globalVars))return;t.globalVars={name:n,next:t.globalVars}}}function vt(){r.state.context={prev:r.state.context,vars:r.state.localVars};r.state.localVars=ii}function yt(){r.state.localVars=r.state.context.vars;r.state.context=r.state.context.prev}function o(n,t){var i=function(){var i=r.state;i.lexical=new rt(i.indented,r.stream.column(),n,null,i.lexical,t)};return i.lex=!0,i}function u(){var n=r.state;n.lexical.prev&&(n.lexical.type==")"&&(n.indented=n.lexical.indented),n.lexical=n.lexical.prev)}function f(n){return function(t){return t==n?i():n==";"?s():i(arguments.callee)}}function c(n){return n=="var"?i(o("vardef"),ot,f(";"),u):n=="keyword a"?i(o("form"),e,c,u):n=="keyword b"?i(o("form"),c,u):n=="{"?i(o("}"),et,u):n==";"?i():n=="if"?i(o("form"),e,c,u,si(r.state.indented)):n=="function"?i(g):n=="for"?i(o("form"),f("("),o(")"),hi,f(")"),u,c,u):n=="variable"?i(o("stat"),ri):n=="switch"?i(o("form"),e,o("}","switch"),f("{"),et,u,u):n=="case"?i(e,f(":")):n=="default"?i(f(":")):n=="catch"?i(o("form"),vt,f("("),dt,f(")"),c,u,yt):s(o("stat"),e,f(";"),u)}function e(n){return pt(n,b)}function w(n){return pt(n,ft)}function pt(n,t){return at.hasOwnProperty(n)?i(t):n=="function"?i(g):n=="keyword c"?i(wt):n=="("?i(o(")"),wt,f(")"),u,t):n=="operator"?i(e):n=="["?i(o("]"),k(w,"]"),u,t):n=="{"?i(o("}"),k(fi,"}"),u,t):i()}function wt(n){return n.match(/[;\}\)\],]/)?s():s(e)}function b(n,t){return n==","?s():ft(n,t,b)}function ft(n,t,r){return(r||(r=ft),n=="operator")?/\+\+|--/.test(t)?i(r):t=="?"?i(e,f(":"),e):i(e):n==";"?void 0:n=="("?i(o(")","call"),k(w,")"),u,r):n=="."?i(ui,r):n=="["?i(o("]"),e,f("]"),u,r):void 0}function ri(n){return n==":"?i(u,c):s(b,f(";"),u)}function ui(n){if(n=="variable")return r.marked="property",i()}function fi(n,t){if(n=="variable"){if(r.marked="property",t=="get"||t=="set")return i(ei)}else(n=="number"||n=="string")&&(r.marked=n+" property");if(at.hasOwnProperty(n))return i(f(":"),w)}function ei(n){return n==":"?i(e):n!="variable"?i(f(":"),e):(r.marked="property",i(g))}function k(n,t){function u(e){if(e==","){var o=r.state.lexical;return o.info=="call"&&(o.pos=(o.pos||0)+1),i(n,u)}return e==t?i():i(f(t))}return function(r){return r==t?i():s(n,u)}}function et(n){return n=="}"?i():s(c,et)}function bt(n){return n==":"?i(oi):s()}function oi(n){return n=="variable"?(r.marked="variable-3",i()):s()}function ot(n,t){return n=="variable"?(ut(t),nt?i(bt,st):i(st)):s()}function st(n,t){return t=="="?i(w,st):n==","?i(ot):void 0}function si(n){return function(t,f){return t=="keyword b"&&f=="else"?(r.state.lexical=new rt(n,0,"form",null,r.state.lexical),i(c,u)):s()}}function hi(n){return n=="var"?i(ot,f(";"),d):n==";"?i(d):n=="variable"?i(ci):s(e,f(";"),d)}function ci(n,t){return t=="in"?i(e):i(b,d)}function d(n,t){return n==";"?i(kt):t=="in"?i(e):s(e,f(";"),kt)}function kt(n){n!=")"&&i(e)}function g(n,t){return n=="variable"?(ut(t),i(g)):n=="("?i(o(")"),vt,k(dt,")"),u,c,yt):void 0}function dt(n,t){if(n=="variable")return ut(t),nt?i(bt):i()}var l=n.indentUnit,a=t.json,nt=t.typescript,ht=function(){function n(n){return{type:n,style:"keyword"}}var s=n("keyword a"),u=n("keyword b"),t=n("keyword c"),f=n("operator"),i={type:"atom",style:"atom"},h={"if":n("if"),"while":s,"with":s,"else":u,"do":u,"try":u,"finally":u,"return":t,"break":t,"continue":t,"new":t,"delete":t,"throw":t,"var":n("var"),"const":n("var"),let:n("var"),"function":n("function"),"catch":n("catch"),"for":n("for"),"switch":n("switch"),"case":n("case"),"default":n("default"),"in":f,"typeof":f,"instanceof":f,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i,"this":n("this")},r,e,o;if(nt){r={type:"variable",style:"variable-3"};e={interface:n("interface"),"class":n("class"),"extends":n("extends"),constructor:n("constructor"),public:n("public"),private:n("private"),protected:n("protected"),static:n("static"),"super":n("super"),string:r,number:r,bool:r,any:r};for(o in e)h[o]=e[o]}return h}(),tt=/[+\-*&%=<>!?|~^]/,v,y,at={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0},r={state:null,column:null,marked:null,cc:null},ii={name:"this",next:{name:"arguments"}};return u.lex=!0,{startState:function(n){return{tokenize:p,lastType:null,cc:[],lexical:new rt((n||0)-l,0,"block",!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(n,t){if(n.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=n.indentation()),t.tokenize!=it&&n.eatSpace())return null;var i=t.tokenize(n,t);return v=="comment"?i:(t.lastType=v=="operator"&&(y=="++"||y=="--")?"incdec":v,ti(t,i,v,y,n))},indent:function(n,i){var f,r,u,e;return n.tokenize==it?CodeMirror.Pass:n.tokenize!=p?0:(f=i&&i.charAt(0),r=n.lexical,r.type=="stat"&&f=="}"&&(r=r.prev),u=r.type,e=f==u,t.statementIndent!=null&&(u==")"&&r.prev&&r.prev.type=="stat"&&(r=r.prev),r.type=="stat"))?r.indented+t.statementIndent:u=="vardef"?r.indented+(n.lastType=="operator"||n.lastType==","?4:0):u=="form"&&f=="{"?r.indented:u=="form"?r.indented+l:u=="stat"?r.indented+(n.lastType=="operator"||n.lastType==","?l:0):r.info!="switch"||e?r.align?r.column+(e?0:1):r.indented+(e?0:l):r.indented+(/^(?:case|default)\b/.test(i)?l:2*l)},electricChars:":{}",blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",lineComment:a?null:"//",jsonMode:a}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:!0});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});