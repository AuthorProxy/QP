typeof Quantumart=="undefined"&&Type.registerNamespace("Quantumart");typeof Quantumart.QP8=="undefined"&&Type.registerNamespace("Quantumart.QP8");typeof Quantumart.QP8.Constants=="undefined"&&Type.registerNamespace("Quantumart.QP8.Constants");Quantumart.QP8.IObserver=function(){};Quantumart.QP8.IObserver.prototype={update:function(){}};Quantumart.QP8.IObserver.registerInterface("Quantumart.QP8.IObserver");Quantumart.QP8.IObservable=function(){};Quantumart.QP8.IObservable.prototype={attachObserver:function(){},detachObserver:function(){},notify:function(){}};Quantumart.QP8.IObservable.registerInterface("Quantumart.QP8.IObservable");Quantumart.QP8.Observable=function(){this._observerInfos=[]};Quantumart.QP8.Observable.prototype={_observerInfos:null,_getObserverInfo:function(n,t){var i=null,r=jQuery.grep(this._observerInfos[n],function(n){return n.observer?n.observer==t:!1});return r.length>0&&(i=r[0]),i},_checkObserver:function(n){var t=!1,i;if($q.isObject(n)||$q.isFunction(n))t=!0;else throw new Error($l.Common.observerIsNotFunctionOrObject);if(t&&!$q.isFunction(n)){i=!0;try{i=Object.getType(n).implementsInterface(Quantumart.QP8.IObserver)}catch(r){}if(i)t=!0;else throw new Error($l.Common.observerIsNotImplementedInterface);}return t},attachObserver:function(n,t,i){if(this._checkObserver(t)){i==null&&(i=-1);this._observerInfos[n]||(this._observerInfos[n]=[]);var r=this._getObserverInfo(n,t);$q.isNull(r)?Array.add(this._observerInfos[n],{observer:t,times:i}):r.times=i}},detachObserver:function(n,t){if(!$q.isNull(this._observerInfos)&&this._observerInfos[n])if($q.isNull(t))$q.removeProperty(this._observerInfos,n);else{var i=this._getObserverInfo(n,t);$q.isNull(i)||Array.remove(this._observerInfos[n],i)}},oneTimeObserver:function(n,t){this.attachObserver(n,t,1)},notify:function(n,t){var r,u,f,i,e;if($q.isNullOrWhiteSpace(n))throw new Error($l.Common.eventTypeNotSpecified);if(!$q.isObject(t))throw new Error(String.format($l.Common.eventArgsNotSpecified,n));if(!$q.isNull(this._observerInfos)&&(r=this._observerInfos[n],u=0,$q.isNull(r)||(u=r.length),u>0))for(f=u-1;f>=0;f--)i=r[f],i&&(e=i.observer,i.times==-1?this._updateObserver(n,t,e):i.times>0&&(i.times--,i.times==0&&this.detachObserver(n,e),this._updateObserver(n,t,e)))},_updateObserver:function(n,t,i){if($q.isObject(i)){var r=!1;try{r=Object.getType(i).implementsInterface(Quantumart.QP8.IObserver)}catch(u){r=!0}r&&i.update(n,this,t)}else $q.isFunction(i)&&i(n,this,t)},dispose:function(){$q.clearArray(this._observerInfos)}};Quantumart.QP8.Observable.registerClass("Quantumart.QP8.Observable",null,Quantumart.QP8.IObservable,Sys.IDisposable);Quantumart.QP8.IMediator=function(){};Quantumart.QP8.IMediator.prototype={introduce:function(){}};Quantumart.QP8.IMediator.registerInterface("Quantumart.QP8.IMediator");Quantumart.QP8.Mediator=function(){this._firstComponent=null;this._secondComponent=null};Quantumart.QP8.Mediator.prototype={_firstComponent:null,_secondComponent:null,introduce:function(n,t){if(!$q.isObject(n))throw new Error($l.Common.firstComponentInMediatorNotSpecified);if(!$q.isObject(t))throw new Error($l.Common.secondComponentInMediatorNotSpecified);this._firstComponent=n;this._secondComponent=t},update:function(){},dispose:function(){}};Quantumart.QP8.Mediator.registerClass("Quantumart.QP8.Mediator",null,Quantumart.QP8.IMediator,Quantumart.QP8.IObserver,Sys.IDisposable);Quantumart.QP8.BackendPreviousAction=function(n){$q.isObject(n)&&(n.entityTypeCode&&(this._entityTypeCode=n.entityTypeCode),n.actionTypeCode&&(this._actionTypeCode=n.actionTypeCode),n.actionCode&&(this._actionCode=n.actionCode),$q.isNull(n.isSuccessfullyExecuted)||(this._isSuccessfullyExecuted=n.isSuccessfullyExecuted))};Quantumart.QP8.BackendPreviousAction.prototype={_entityTypeCode:"",_actionTypeCode:"",_actionCode:"",_isSuccessfullyExecuted:!1,get_entityTypeCode:function(){return this._entityTypeCode},set_entityTypeCode:function(n){this._entityTypeCode=n},get_actionTypeCode:function(){return this._actionTypeCode},set_actionTypeCode:function(n){this._actionTypeCode=n},get_actionCode:function(){return this._actionCode},set_actionCode:function(n){this._actionCode=n},get_isSuccessfullyExecuted:function(){return this._isSuccessfullyExecuted},set_isSuccessfullyExecuted:function(n){this._isSuccessfullyExecuted=n}};Quantumart.QP8.BackendPreviousAction.registerClass("Quantumart.QP8.BackendPreviousAction");Quantumart.QP8.BackendEventArgs=function(){Quantumart.QP8.BackendEventArgs.initializeBase(this)};Quantumart.QP8.BackendEventArgs.prototype={_entityTypeCode:"",_entityTypeName:"",_parentEntityId:0,_actionTypeCode:"",_actionCode:"",_actionName:"",_isInterface:!1,_isCustomAction:!1,_isMultistepAction:!1,_isWindow:!1,_windowWidth:null,_windowHeight:null,_confirmPhrase:"",_previousAction:null,_nextSuccessfulActionCode:null,_nextFailedActionCode:null,_context:null,_additionalData:null,_entityId:0,_entityName:"",_entities:[],_isMultipleEntities:!1,_callerContext:null,_externalCallerContext:null,_startedByExternal:!1,get_entityId:function(){return this._entityId},set_entityId:function(n){this._entityId=n},get_entityName:function(){return this._entityName},set_entityName:function(n){this._entityName=n},get_entities:function(){return this._entities},set_entities:function(n){this._entities=n},get_isMultipleEntities:function(){return this._isMultipleEntities},set_isMultipleEntities:function(n){this._isMultipleEntities=n},get_entityTypeCode:function(){return this._entityTypeCode},set_entityTypeCode:function(n){this._entityTypeCode=n},get_entityTypeName:function(){return this._entityTypeName},set_entityTypeName:function(n){this._entityTypeName=n},get_parentEntityId:function(){return this._parentEntityId},set_parentEntityId:function(n){this._parentEntityId=n},get_actionCode:function(){return this._actionCode},set_actionCode:function(n){this._actionCode=n},get_actionName:function(){return this._actionName},set_actionName:function(n){this._actionName=n},get_actionTypeCode:function(){return this._actionTypeCode},set_actionTypeCode:function(n){this._actionTypeCode=n},get_isInterface:function(){return this._isInterface},set_isInterface:function(n){this._isInterface=n},get_isCustomAction:function(){return this._isCustomAction},set_isCustomAction:function(n){this._isCustomAction=n},get_isMultistepAction:function(){return this._isMultistepAction},set_isMultistepAction:function(n){this._isMultistepAction=n},get_isWindow:function(){return this._isWindow},set_isWindow:function(n){this._isWindow=n},get_windowWidth:function(){return this._windowWidth},set_windowWidth:function(n){this._windowWidth=n},get_windowHeight:function(){return this._windowHeight},set_windowHeight:function(n){this._windowHeight=n},get_confirmPhrase:function(){return this._confirmPhrase},set_confirmPhrase:function(n){this._confirmPhrase=n},get_previousAction:function(){return this._previousAction},set_previousAction:function(n){this._previousAction=n},get_nextSuccessfulActionCode:function(){return this._nextSuccessfulActionCode},set_nextSuccessfulActionCode:function(n){this._nextSuccessfulActionCode=n},get_nextFailedActionCode:function(){return this._nextFailedActionCode},set_nextFailedActionCode:function(n){this._nextFailedActionCode=n},get_context:function(){return this._context},set_context:function(n){this._context=n},get_isLoaded:function(){return this._actionTypeCode==ACTION_TYPE_CODE_READ&&this.get_previousActionTypeCode()==ACTION_TYPE_CODE_NONE},get_isSaved:function(){return this._actionTypeCode==ACTION_TYPE_CODE_READ&&(this.get_previousActionTypeCode()==ACTION_TYPE_CODE_SAVE||this.get_previousActionTypeCode()==ACTION_TYPE_CODE_SAVE_AND_UP)},get_isUpdated:function(){return this._actionTypeCode==ACTION_TYPE_CODE_READ&&(this.get_previousActionTypeCode()==ACTION_TYPE_CODE_UPDATE||this.get_previousActionTypeCode()==ACTION_TYPE_CODE_UPDATE_AND_UP)},get_isRestored:function(){return this._actionTypeCode==ACTION_TYPE_CODE_READ&&this.get_previousActionTypeCode()==ACTION_TYPE_CODE_RESTORE},get_needUp:function(){return this.get_previousActionTypeCode()==ACTION_TYPE_CODE_SAVE_AND_UP||this.get_previousActionTypeCode()==ACTION_TYPE_CODE_UPDATE_AND_UP},get_previousActionTypeCode:function(){return this._previousAction&&this._previousAction.get_isSuccessfullyExecuted()?this._previousAction.get_actionTypeCode():ACTION_TYPE_CODE_NONE},get_isArchiving:function(){return this._actionTypeCode==ACTION_TYPE_CODE_ARCHIVE||this._actionTypeCode==ACTION_TYPE_CODE_MULTIPLE_ARCHIVE},get_isRemoving:function(){return this._actionTypeCode==ACTION_TYPE_CODE_REMOVE||this._actionTypeCode==ACTION_TYPE_CODE_MULTIPLE_REMOVE},get_isRestoring:function(){return this._actionTypeCode==ACTION_TYPE_CODE_RESTORE||this._actionTypeCode==ACTION_TYPE_CODE_MULTIPLE_RESTORE},get_callerContext:function(){return this._callerContext},set_callerContext:function(n){this._callerContext=n},get_externalCallerContext:function(){return this._externalCallerContext},set_externalCallerContext:function(n){this._externalCallerContext=n},get_additionalData:function(){return this._additionalData},set_additionalData:function(n){this._additionalData=n},get_startedByExternal:function(){return this._startedByExternal},set_startedByExternal:function(n){this._startedByExternal=n},init:function(n,t,i,r,u,f){this._entityTypeCode=n;this._parentEntityId=i;r.ActionType.IsMultiple?this._entities=t:(this._entityId=t[0].Id,this._entityName=t[0].Name);u&&(u.previousAction&&(this._previousAction=u.previousAction),u.forceOpenWindow&&(this._isWindow=!0),u.context&&(this._context=u.context));$q.isString(f)&&this.set_actionCode(f)}};Quantumart.QP8.BackendEventArgs.getEventArgsFromOtherEventArgs=function(n){if(!$q.isObject(n))throw new Error($l.Common.sourceEventArgsNotSpecified);var t=new Quantumart.QP8.BackendEventArgs;return Quantumart.QP8.BackendEventArgs.fillEventArgsFromOtherEventArgs(t,n),t};Quantumart.QP8.BackendEventArgs.fillEventArgsFromOtherEventArgs=function(n,t){if(!$q.isObject(n))throw new Error($l.Common.targetEventArgsNotSpecified);if(!$q.isObject(t))throw new Error($l.Common.sourceEventArgsNotSpecified);if(Quantumart.QP8.BackendEventArgs.isInstanceOfType(t)||Object.getType(t).inheritsFrom(Quantumart.QP8.BackendEventArgs))n.set_entityTypeCode(t.get_entityTypeCode()),n.set_entityTypeName(t.get_entityTypeName()),n.set_parentEntityId(t.get_parentEntityId()),n.set_actionCode(t.get_actionCode()),n.set_actionName(t.get_actionName()),n.set_actionTypeCode(t.get_actionTypeCode()),n.set_isInterface(t.get_isInterface()),n.set_isWindow(t.get_isWindow()),n.set_windowWidth(t.get_windowWidth()),n.set_windowHeight(t.get_windowHeight()),n.set_confirmPhrase(t.get_confirmPhrase()),n.set_previousAction(t.get_previousAction()),n.set_nextSuccessfulActionCode(t.get_nextSuccessfulActionCode()),n.set_nextFailedActionCode(t.get_nextFailedActionCode()),n.set_context(t.get_context()),n.set_entityId(t.get_entityId()),n.set_entityName(t.get_entityName()),n.set_entities(t.get_entities()),n.set_isMultipleEntities(t.get_isMultipleEntities());else throw new Error($l.Common.sourceEventArgsIvalidType);};Quantumart.QP8.BackendEventArgs.registerClass("Quantumart.QP8.BackendEventArgs");