Quantumart.QP8.BackendSearchBlockManager=function(){Quantumart.QP8.BackendSearchBlockManager.initializeBase(this)};Quantumart.QP8.BackendSearchBlockManager.prototype={_searchBlockGroups:{},generateSearchBlockGroupCode:function(n,t){return String.format("{0}_{1}",n,t)},getSearchBlockGroup:function(n){var t=null;return this._searchBlockGroups[n]&&(t=this._searchBlockGroups[n]),t},createSearchBlockGroup:function(n){var t=this.getSearchBlockGroup(n);return t||(t={},this._searchBlockGroups[n]=t),t},removeSearchBlockGroup:function(n){$q.removeProperty(this._searchBlockGroups,n)},getSearchBlock:function(n){var i=null,r,t;for(r in this._searchBlockGroups)if(t=this._searchBlockGroups[r],t[n]){i=t[n];break}return i},createSearchBlock:function(n,t,i,r,u){var f=this.generateSearchBlockGroupCode(t,i),e=null,o;return u.contextSearch?e=new Quantumart.QP8.BackendContextBlock(f,n,t,i,u):t==ENTITY_TYPE_CODE_ARTICLE||t==ENTITY_TYPE_CODE_VIRTUAL_ARTICLE||t==ENTITY_TYPE_CODE_ARCHIVE_ARTICLE?(r&&r.get_documentContext()&&r.get_documentContext().get_options()&&r.get_documentContext().get_options().isVirtual&&jQuery.extend(u,{isVirtual:!0}),e=new Quantumart.QP8.BackendArticleSearchBlock(f,n,t,i,u)):e=t==ENTITY_TYPE_CODE_CONTENT?new Quantumart.QP8.BackendContentSearchBlock(f,n,t,i,u):t==ENTITY_TYPE_CODE_USER?new Quantumart.QP8.BackendUserSearchBlock(f,n,t,i,u):new Quantumart.QP8.BackendSearchBlockBase(f,n,t,i,u),e.initialize(),o=this.createSearchBlockGroup(f),o[n]=e,e},removeSearchBlock:function(n){var r=this.getSearchBlock(n),t,i;r&&(t=r.get_searchBlockGroupCode(),i=this.getSearchBlockGroup(t),$q.removeProperty(i,n),$q.getHashKeysCount(i)==0&&this.removeSearchBlockGroup(t))},destroySearchBlock:function(n){var t=this.getSearchBlock(n);t&&(this.removeSearchBlock(n),t.dispose&&t.dispose(),t=null)},dispose:function(){var n,t;if(Quantumart.QP8.BackendSearchBlockManager.callBaseMethod(this,"dispose"),this._searchBlockGroups){for(n in this._searchBlockGroups){t=this._searchBlockGroups[n];for(searchBlockElementId in t)this.destroySearchBlock(searchBlockElementId)}this._searchBlockGroups=null}Quantumart.QP8.BackendSearchBlockManager._instance=null}};Quantumart.QP8.BackendSearchBlockManager._instance=null;Quantumart.QP8.BackendSearchBlockManager.getInstance=function(){return Quantumart.QP8.BackendSearchBlockManager._instance==null&&(Quantumart.QP8.BackendSearchBlockManager._instance=new Quantumart.QP8.BackendSearchBlockManager),Quantumart.QP8.BackendSearchBlockManager._instance};Quantumart.QP8.BackendSearchBlockManager.destroyInstance=function(){Quantumart.QP8.BackendSearchBlockManager._instance&&Quantumart.QP8.BackendSearchBlockManager._instance.dispose()};Quantumart.QP8.BackendSearchBlockManager.registerClass("Quantumart.QP8.BackendSearchBlockManager",Quantumart.QP8.Observable);