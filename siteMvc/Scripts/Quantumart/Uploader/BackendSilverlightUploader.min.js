function Quantumart$QP8$BackendSilverlightUploader$uploadCallback(n,t){var r=jQuery("#"+n),i,u;r&&(i=r.data("qp_sl_uploader"),i&&(u=new Quantumart.QP8.BackendUploaderEventArgs([t]),i.notify(EVENT_TYPE_LIBRARY_FILE_UPLOADED,u)));r=null;i=null}function Quantumart$QP8$BackendSilverlightUploader$checkFileExistence(n){var t=APPLICATION_ROOT_URL+"Library/FullNameFileExists/",i=$q.getJsonSync(t,{name:n});return i.result}function Quantumart$QP8$BackendSilverlightUploader$resolveFileName(n,t){var i=APPLICATION_ROOT_URL+"Library/ResolveFileName/",r=$q.getJsonSync(i,{path:n,name:t});return r.result}function Quantumart$QP8$BackendSilverlightUploader$checkSecurity(n){var t=APPLICATION_ROOT_URL+"Library/CheckSecurity/",i=$q.getJsonSync(t,{path:n});return i.result}function Quantumart$QP8$BackendSilverlightUploader$returnFolderPath(n){var i=jQuery("#"+n),r="",t;return i&&(t=i.data("qp_sl_uploader"),t&&(r=t.get_folderPath())),i=null,t=null,r}function Quantumart$QP8$BackendSilverlightUploader$localizeUpload(){return{UploadBrowse:UPLOAD_BROWSE_BUTTON_NAME,UploadTotal:UPLOAD_TOTAL_LABEL,ExtensionMessage:UPLOAD_EXTENSION_MESSAGE,OverwriteMessage:UPLOAD_OVERWRITE_MESSAGE,MaxSizeMessage:UPLOAD_MAX_SIZE_MESSAGE,SecurityMessage:UPLOAD_SECURITY_MESSAGE}}Quantumart.QP8.BackendSilverlightUploader=function(n,t){Quantumart.QP8.BackendSilverlightUploader.initializeBase(this);var i=jQuery(".l-sl-uploader",n);this._parentElement=i.get(0);this._parentElementId=i.attr("id");i=null;$q.isNull(t)||($q.isNull(t.background)||(this._background=t.background),$q.isNull(t.extensions)||(this._extensions=t.extensions),$q.isNull(t.resolveName)||(this._resolveName=t.resolveName))};Quantumart.QP8.BackendSilverlightUploader.prototype={_parentElementId:"",_parentElement:null,_folderPath:"",_background:"#EBF5FB",_extensions:"",_resolveName:!1,initialize:function(){var n=jQuery(this._parentElement);n.data("qp_sl_uploader",this);this._createFileUploader();n=null},dispose:function(){var n=jQuery(this._parentElement);n.removeData();n=null;this._parentElement=null},_createFileUploader:function(){var n="Quantumart$QP8$BackendSilverlightUploader$",t=APPLICATION_ROOT_URL+"Upload/",i=this._resolveName?n+"resolveFileName":"",r={path:"",f_callback:n+"uploadCallback",f_check:n+"checkFileExistence",f_resolve:i,f_localize:n+"localizeUpload",f_path:n+"returnFolderPath",f_security:n+"checkSecurity",return_id:this._parentElementId,extensions:this._extensions,url:t+"RadUploadHandler.ashx"},u=this._parentElementId+"_object";Silverlight.createObjectEx({source:t+"SilverlightUpload.xap",parentElement:this._parentElement,id:u,properties:{width:"250",height:"20",isWindowless:"true",background:"transparent",alt:"",version:"2.0.31005.0"},events:{onError:this._onSilverlightErrorHandler},initParams:$q.hashToString(r),context:"context"})},_onSilverlightErrorHandler:function(n,t){var u="";n!=null&&n!=0&&(u=n.getHost().Source);var r=t.ErrorType,f=t.ErrorCode,i="Unhandled Error in Silverlight 2 Application "+u+"\n";i+="Code: "+f+"    \n";i+="Category: "+r+"       \n";i+="Message: "+t.ErrorMessage+"     \n";r=="ParserError"?(i+="File: "+t.xamlFile+"     \n",i+="Line: "+t.lineNumber+"     \n",i+="Position: "+t.charPosition+"     \n"):r=="RuntimeError"&&(t.lineNumber!=0&&(i+="Line: "+t.lineNumber+"     \n",i+="Position: "+t.charPosition+"     \n"),i+="MethodName: "+t.methodName+"     \n")},set_folderPath:function(n){this._folderPath=n},get_folderPath:function(){return this._folderPath}};Quantumart.QP8.BackendSilverlightUploader.registerClass("Quantumart.QP8.BackendSilverlightUploader",Quantumart.QP8.Observable,Quantumart.QP8.IBackendUploader);