(function(n,t){"use strict";function i(n,t){return!t||n.split("/")[0]==="image"}n.addFileFilter("max_img_resolution",function(r,u,f){var e,o=$.extend({},{enabled:!0,imageResolution:307200,skipMimeValidation:!1,getResolutionErrorSettings:function(t){return{code:n.IMAGE_DIMENSIONS_ERROR,message:"Resolution exceeds the allowed limit of "+t+" pixels."}},getNotAnImgErrorSettings:function(){return{code:n.IMAGE_FORMAT_ERROR,message:'Checking file mime type failed for file: "'+u.name+'".'}}},r),s=function(n,t){e&&(e.destroy(),e=null);n||this.trigger("Error",$.extend({file:u},t));f(n)}.bind(this);o.prefilterAction();o.enabled?i(u.type,o.skipMimeValidation)?(e=new t.Image,e.onload=function(){s(e.width*e.height<o.imageResolution,o.getResolutionErrorSettings())},e.onerror=function(){s(!1,o.getResolutionErrorSettings())},e.load(u.getSource())):s(!1,o.getNotAnImgErrorSettings()):s(!0)})})(window.plupload,window.mOxie);