Quantumart.QP8.Utils=function(){};Quantumart.QP8.Utils.isNull=function(n){var t=!1;return(n==undefined||n==null||typeof n=="undefined")&&(t=!0),t};Quantumart.QP8.Utils.isNullOrEmpty=function(n){var t=!1;return Quantumart.QP8.Utils.isNull(n)?t=!0:Quantumart.QP8.Utils.isArray(n)||Quantumart.QP8.Utils.isObject(n)&&n.jquery?n.length==0&&(t=!0):n.toString().length==0&&(t=!0),t};Quantumart.QP8.Utils.isNullOrWhiteSpace=function(n){var t=!1;return Quantumart.QP8.Utils.isNull(n)?t=!0:Quantumart.QP8.Utils.isArray(n)||Quantumart.QP8.Utils.isObject(n)&&n.jquery?n.length==0&&(t=!0):n.toString().trim().length==0&&(t=!0),t};Quantumart.QP8.Utils.toString=function(n,t){return Quantumart.QP8.Utils.isNull(t)&&(t=null),Quantumart.QP8.Utils.isNull(n)?t:n.toString()};Quantumart.QP8.Utils.isString=function(n){var t=!1;return Quantumart.QP8.Utils.isNull(n)||(t=typeof n.valueOf()=="string"),t};Quantumart.QP8.Utils._prepareNumber=function(n,t){var r=null,i;if(!Quantumart.QP8.Utils.isNullOrEmpty(n)){if(i=n.toString().replace(/\s/igm,"").replace(",",".").toLowerCase(),!t){if(i=="true")return 1;if(i=="false")return 0}r=Number.parseLocale(i)}return r};Quantumart.QP8.Utils.toInt=function(n,t){Quantumart.QP8.Utils.isNullOrEmpty(t)&&(t=null);var i=null;return Quantumart.QP8.Utils.isNullOrEmpty(n)||(i=Quantumart.QP8.Utils._prepareNumber(n,!1),Quantumart.QP8.Utils.isNullOrEmpty(i)||(i=parseInt(i,10),isNaN(i)&&(i=null))),i==null&&(i=t),i};Quantumart.QP8.Utils.isInt=function(n){var i=!1,t=Quantumart.QP8.Utils._prepareNumber(n,!0);return Quantumart.QP8.Utils.isNullOrEmpty(t)||isNaN(t)||t.toString().indexOf(".")==-1&&(i=!0),i};Quantumart.QP8.Utils.toFloat=function(n,t){Quantumart.QP8.Utils.isNullOrEmpty(t)&&(t=null);var i=null;return Quantumart.QP8.Utils.isNullOrEmpty(n)||(i=Quantumart.QP8.Utils._prepareNumber(n,!1),Quantumart.QP8.Utils.isNullOrEmpty(i)||(i=parseFloat(i),isNaN(i)&&(i=null))),i==null&&(i=t),i};Quantumart.QP8.Utils.isFloat=function(n){var t=!1,i=Quantumart.QP8.Utils._prepareNumber(n,!0);return Quantumart.QP8.Utils.isNullOrEmpty(i)||isNaN(i)||(t=!0),t};Quantumart.QP8.Utils.toBoolean=function(n,t){var i=null;if(Quantumart.QP8.Utils.isNullOrEmpty(t)&&(t=null),!Quantumart.QP8.Utils.isNullOrEmpty(n)){if(typeof n.valueOf()=="boolean")return n;i=n.toString().toLowerCase().trim();i=i.length>0?i=="true"?!0:i=="false"?!1:null:null}return i==null&&(i=t),i};Quantumart.QP8.Utils.isBoolean=function(n){var t=!1,i;return Quantumart.QP8.Utils.isNullOrEmpty(n)||(typeof n.valueOf()=="boolean"?t=!0:(i=n.toString().toLowerCase().trim(),(i=="true"||i=="false")&&(t=!0))),t};Quantumart.QP8.Utils.toDate=function(n,t){Quantumart.QP8.Utils.isNullOrEmpty(t)&&(t=null);var i=null;return Quantumart.QP8.Utils.isNullOrEmpty(n)||(i=Date.parseLocale(n)),i==null&&(i=t),i};Quantumart.QP8.Utils.isDate=function(n){var t=!1;return Quantumart.QP8.Utils.isNullOrEmpty(n)||(date=Date.parseLocale(n),date!=null&&(t=!0)),t};Quantumart.QP8.Utils.isArray=function(n){var t=!1;return Quantumart.QP8.Utils.isNull(n)||(t=typeof n=="array"||typeof n=="object"&&n.join),t};Quantumart.QP8.Utils.isObject=function(n){var t=!1;return Quantumart.QP8.Utils.isNull(n)||(t=typeof n=="object"),t};Quantumart.QP8.Utils.isFunction=function(n){var t=!1;return Quantumart.QP8.Utils.isNull(n)||(t=typeof n.valueOf()=="function"),t};Quantumart.QP8.Utils.toJQuery=function(n){var t=null;return Quantumart.QP8.Utils.isObject(n)?t=n.jquery?n:jQuery(n):Quantumart.QP8.Utils.isArray(n)&&(t=jQuery(n)),t};Quantumart.QP8.Utils.isJQuery=function(n){return Quantumart.QP8.Utils.isObject(n)&&n.jquery};Quantumart.QP8.Utils.changeType=function(n,t){var i=n;return t==JS_TYPE_CODE_STRING?i=Quantumart.QP8.Utils.toString(n):t==JS_TYPE_CODE_INT?i=Quantumart.QP8.Utils.toInt(n):t==JS_TYPE_CODE_FLOAT?i=Quantumart.QP8.Utils.toFloat(n):t==JS_TYPE_CODE_BOOLEAN?i=Quantumart.QP8.Utils.toBoolean(n):t==JS_TYPE_CODE_DATE&&(i=Quantumart.QP8.Utils.toDate(n)),i};Quantumart.QP8.Utils.isInRange=function(n,t,i,r,u){if(i==Quantumart.QP8.Enums.RangeBoundaryType.Inclusive){if(n<t)return!1}else if(i==Quantumart.QP8.Enums.RangeBoundaryType.Exclusive&&n<=t)return!1;if(u==Quantumart.QP8.Enums.RangeBoundaryType.Inclusive){if(n>r)return!1}else if(u==Quantumart.QP8.Enums.RangeBoundaryType.Exclusive&&n>=r)return!1;return!0};Quantumart.QP8.Utils.compareValues=function(n,t,i){var r=!1;return i==Quantumart.QP8.Enums.ComparisonOperator.Equal?r=n==t:i==Quantumart.QP8.Enums.ComparisonOperator.NotEqual?r=n!=t:i==Quantumart.QP8.Enums.ComparisonOperator.GreaterThan?r=n>t:i==Quantumart.QP8.Enums.ComparisonOperator.GreaterThanEqual?r=n>=t:i==Quantumart.QP8.Enums.ComparisonOperator.LessThan?r=n<t:i==Quantumart.QP8.Enums.ComparisonOperator.LessThanEqual&&(r=n<=t),r};Quantumart.QP8.Utils.getJsonFromUrl=function(n,t,i,r,u,f,e){var s=n.toUpperCase(),h=i,o,c;return s=="POST"&&(h=JSON.stringify(i)),o={type:s,contentType:"application/json; charset=utf-8",dataType:"json",url:t,data:h,async:r,cache:u,error:e},o.success=$q.ajaxCallbackDecorator(f,o),c=jQuery.ajax(o),$q.decorateDeferred(c,$q.ajaxCallbackDecorator,o)};Quantumart.QP8.Utils.getJsonPFromUrl=function(n,t,i,r,u,f,e){var o=n.toUpperCase(),s=i;return o=="POST"&&(s=JSON.stringify(i)),jQuery.ajax({type:o,contentType:"application/json; charset=utf-8",dataType:"jsonp",url:t,data:s,cache:r,timeout:u,success:f,error:e})};Quantumart.QP8.Utils.getCustomActionJson=function(n,t,i){Quantumart.QP8.Utils.getJsonFromUrl("POST",CONTROLLER_URL_CUSTOM_ACTION+"Proxy",{url:n},!1,!1,t,i)};Quantumart.QP8.Utils.getTextContentFromUrl=function(n,t){var i="";return jQuery.ajax({type:"GET",dataType:"text",url:n,async:!1,cache:t,success:function(n){i=n},error:function(){i=""}}),i};Quantumart.QP8.Utils.getHtmlContentFromUrl=function(n,t){var i="";return jQuery.ajax({type:"GET",dataType:"html",url:n,async:!1,cache:t,success:function(n){i=n},error:function(){i=""}}),i};Quantumart.QP8.Utils.postDataToUrl=function(n,t,i,r,u){return jQuery.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",dataType:"json",url:n,data:t,async:i,cache:!1,success:r,error:u})};Quantumart.QP8.Utils.getJsonSync=function(n,t){return jQuery.parseJSON(jQuery.ajax({type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",url:n,data:t,async:!1,cache:!1,success:null,error:Quantumart.QP8.Utils.defaultJsonErrorHandler}).responseText)};Quantumart.QP8.Utils.defaultJsonErrorHandler=function(n){Quantumart.QP8.Utils.processGenericAjaxError(n)};Quantumart.QP8.Utils.getTypeNameForJson=function(n){var u=n,t,r;if(n.length>0&&n.indexOf(".")!=-1){var f="",i="",e=n.split("."),o=e.length;for(t=0;t<o;t++)r=e[t],t==o-1?f=r:(t>0&&(i+="."),i+=r);u=String.format("{0}:#{1}",f,i)}return u};Quantumart.QP8.Utils.processGenericAjaxError=function(n){var t=String.format($l.Common.ajaxGenericErrorMessage,status);status==401||n.getResponseHeader("QP-Not-Authenticated")?t=$l.Common.ajaxUserSessionExpiredErrorMessage:status==500&&(t=$l.Common.ajaxDataReceivingErrorMessage);alert(t)};Quantumart.QP8.Utils.generateErrorMessageText=function(n){var t=new $.telerik.stringBuilder;return(n==500||n==404)&&(t.cat('<div class="alignCenter" style="margin-top: 1.0em;">'),t.cat('\t<div class="alignCenterToLeft">'),t.cat('\t\t<div class="alignCenterToRight">'),t.cat('\t\t\t<table cellpadding="0" cellspacing="0" border="0" style="margin: 0 120px;">'),t.cat('\t\t\t\t<tr class="top">'),n==500?(t.cat('\t\t\t\t\t<td style="width: 110px;"><img src="'+COMMON_IMAGE_FOLDER_URL_ROOT+'/errors/bug.gif" width="100" height="118" border="0" style="margin: 0 5px;" /><\/td>'),t.cat('\t\t\t\t\t<td style="padding: 0 10px;">'),t.cat("\t\t\t\t\t\t<h1>"+$l.EditingArea.error500Title+"<\/h1>"),t.cat($l.EditingArea.error500Text),t.cat("\t\t\t\t\t<\/td>")):n==404&&(t.cat('\t\t\t\t\t<td style="width: 110px;"><img src="'+COMMON_IMAGE_FOLDER_URL_ROOT+'/errors/compass.png" width="100" height="115" border="0" alt="Компас" style="margin: 0 5px;" /><\/td>'),t.cat('\t\t\t\t\t<td style="padding: 0 10px;">'),t.cat("\t\t\t\t\t\t<h1>"+$l.EditingArea.error404Title+"<\/h1>"),t.cat($l.EditingArea.error404Text),t.cat("\t\t\t\t\t<\/td>")),t.cat("\t\t\t\t<\/tr>"),t.cat("\t\t\t<\/table>"),t.cat("\t\t<\/div>"),t.cat("\t<\/div>"),t.cat("<\/div>")),t.string()};Quantumart.QP8.Utils.ajaxCallbackDecorator=function(n,t){return n?function(i,r,u){if(!Quantumart.QP8.BackendLogOnWindow.deferredExecution(i,u,n,t))return n(i,r,u)}:n};Quantumart.QP8.Utils.decorateDeferred=function(n,t,i){return n._doneBase=n.done,n.done=function(n){var r=t(n,i),u=this._doneBase(r);return Quantumart.QP8.Utils.decorateDeferred(u)},n};Quantumart.QP8.Utils.toFixed=function(n,t){return t=t||0,n.toFixed(t).replace(new RegExp("\\.0{"+t+"}"),"")};typeof String.prototype.left!="function"&&(String.prototype.left=function(n){if(!/\d+/.test(n))return this;return this.substr(0,n)});typeof String.prototype.right!="function"&&(String.prototype.right=function(n){if(!/\d+/.test(n))return this;return this.substr(this.length-n)});Quantumart.QP8.Utils.generateRandomString=function(n){for(var t="QuantumArt98BCDEFGHIJKLMNOPRSTUVWXYZbcdefghijklopqsvwxyz01234567",e=t.length,i=0,r="",u="",f=0;f<n;f++)i=parseInt(e*Math.random()),r=t.substr(i,1),u+=r;return u};Quantumart.QP8.Utils.htmlEncode=function(n,t){Quantumart.QP8.Utils.isNull(t)&&(t=!1);var i=n;return Quantumart.QP8.Utils.isNullOrWhiteSpace(n)||(i=i.toString().replace(/&/igm,"&amp;").replace(/\"/igm,"&quot;").replace(/</igm,"&lt;").replace(/>/igm,"&gt;"),t&&(i=i.replace(/\n/igm,"<br />\n").replace(/\t/igm,"&nbsp;&nbsp;&nbsp;&nbsp;"))),i};Quantumart.QP8.Utils.cutShort=function(n,t,i){i||(i="…");var r=Quantumart.QP8.Utils.toString(n,"").trim();return r.length>t&&(r=r.left(t).trim()+i),r};Quantumart.QP8.Utils.middleCutShort=function(n,t,i){var r;if(i||(i="…"),r=Quantumart.QP8.Utils.toString(n,"").trim(),r.length>t){var u=Math.floor((t-i.length)/2),f=n.left(u).trim(),e=n.right(u).trim();r=f+i+e}return r};Quantumart.QP8.Utils.setPropertyValue=function(n,t,i){var u,f;if(t.indexOf(".")!=-1){var e=t.split("."),o=e.length,r=n;for(u=0;u<o;u++)f=e[u],u==o-1?r[f]=i:(Quantumart.QP8.Utils.isNull(r[f])&&(r[f]={}),r=r[f])}else n[t]=i};Quantumart.QP8.Utils.removeProperty=function(n,t){n&&n[t]&&(jQuery.browser.msie&&jQuery.browser.version<8?jQuery(n).removeAttr(t):delete n[t])};Quantumart.QP8.Utils.hashToString=function(n){var t="";for(var i in n)t=t+i+"="+n[i]+",";return t.substr(0,t.length-1)};Quantumart.QP8.Utils.getHashKeysCount=function(n){var t=0,i;if(n)for(i in n)t++;return t};Array.distinct=function(n){var i=[],t,r;if(Quantumart.QP8.Utils.isArray(n))for(t=0;t<n.length;t++)r=n[t],Array.contains(i,r)||Array.add(i,r);return i};Quantumart.QP8.Utils.clearArray=function(n){Quantumart.QP8.Utils.isArray(n)&&Array.clear(n);n=null};Quantumart.QP8.Utils.callFunction=function(n,t){Quantumart.QP8.Utils.isFunction(n)&&(t?n.call(t):n())};Quantumart.QP8.Utils.preventDefaultFunction=function(n){n.preventDefault()};Quantumart.QP8.Utils.hashToQueryString=function(n){var t="",i,r,u;if(n){i=0;for(r in n)u=Quantumart.QP8.Utils.toString(n[r],""),i>0&&(t+="&"),t+=r+"="+escape(u),i++}return t};Quantumart.QP8.Utils.arrayToQueryString=function(n,t){var r="",i,u;if(!Quantumart.QP8.Utils.isNullOrWhiteSpace(n)&&!Quantumart.QP8.Utils.isNullOrEmpty(t))for(i=0;i<t.length;i++)u=Quantumart.QP8.Utils.toString(t[i],""),i>0&&(r+="&"),r+=n+"="+escape(u);return r};Quantumart.QP8.Utils.updateQueryStringParameter=function(n,t,i){var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=n.indexOf("?")!==-1?"&":"?",n.match(r)?n.replace(r,"$1"+t+"="+i+"$2"):n+separator+t+"="+i};Quantumart.QP8.Utils.collectGarbageInIE=function(){jQuery.browser.msie&&CollectGarbage()};Quantumart.QP8.Utils.registerClass("Quantumart.QP8.Utils");window.$q=Quantumart.QP8.Utils;