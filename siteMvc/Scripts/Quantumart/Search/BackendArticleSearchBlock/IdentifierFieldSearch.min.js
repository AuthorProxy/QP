Quantumart.QP8.BackendArticleSearchBlock.IdentifierFieldSearch=function(n,t,i,r,u,f,e,o){Quantumart.QP8.BackendArticleSearchBlock.IdentifierFieldSearch.initializeBase(this,[n,t,i,r,u,f,e,o]);this._onByValueSelectorChangedHandler=jQuery.proxy(this._onByValueSelectorChanged,this);this._onNumericInputFocusHandler=jQuery.proxy(this._onNumericInputFocus,this);this._onLoadHandler=jQuery.proxy(this._onLoad,this)};Quantumart.QP8.BackendArticleSearchBlock.IdentifierFieldSearch.prototype={initialize:function(){var i,r,t,u;if($q.getJsonFromUrl("GET",CONTROLLER_URL_ARTICLE_SEARCH_BLOCK+"Identifier",{elementIdPrefix:this._elementIdPrefix},!1,!1,function(n){n.success?i=n.view:alert(n.message)},function(n){i=null;$q.processGenericAjaxError(n)}),!$q.isNullOrWhiteSpace(i)){var f=this._elementIdPrefix+"_inverseCheckBox",e=this._elementIdPrefix+"_numberFrom",o=this._elementIdPrefix+"_numberTo",n=jQuery(this._containerElement);n.html(i);r=n.find("#"+e);t=n.find("#"+o);r.focus(this._onNumericInputFocusHandler);t.focus(this._onNumericInputFocusHandler);this._numberFromElement=r.get(0);this._numberToElement=t.get(0);this._textAreaElement=n.find("#"+this._elementIdPrefix+"_text").get(0);u=n.find("#"+f);this._inverseCheckBoxElement=u.get(0);jQuery(".radioButtonsList input[type='radio']",n).click(this._onByValueSelectorChangedHandler);jQuery(document).ready(this._onLoadHandler);t.data("tTextBox").disable();r=null;t=null;u=null;n=null}},get_searchQuery:function(){return Quantumart.QP8.BackendArticleSearchBlock.createFieldSearchQuery(Quantumart.QP8.Enums.ArticleFieldSearchType.Identifier,this._fieldID,this._fieldColumn,this._contentID,this._referenceFieldID,this.get_IsNull(),jQuery(this._numberFromElement).data("tTextBox").value(),jQuery(this._numberToElement).data("tTextBox").value(),this._isByValue,this._getIds(jQuery(this._textAreaElement).val()),this._isByText)},get_blockState:function(){return new Quantumart.QP8.BackendArticleSearchBlock.FieldSearchState(Quantumart.QP8.Enums.ArticleFieldSearchType.Identifier,this._fieldID,this._contentID,this._fieldColumn,this._fieldName,this._fieldGroup,this._referenceFieldID,{inverse:this.get_IsNull(),from:jQuery(this._numberFromElement).data("tTextBox").value(),to:jQuery(this._numberToElement).data("tTextBox").value(),text:jQuery(this._textAreaElement).val(),isByValue:this._isByValue,isByText:this._isByText})},get_filterDetails:function(){var n=this.get_blockState().data,t,i;return n.isByText?(i=this._getIds(n.text),t=i.length==0?"?":this._getText(i)):t=n.isByValue?n.from?n.from:"?":"["+(n.from?n.from:"?")+".."+(n.to?n.to:"?")+"]",n.inverse&&(t=$l.SearchBlock.notText+"("+t+")"),t},restore_blockState:function(n){var t,i;n&&(this._inverseCheckBoxElement&&(t=jQuery(this._inverseCheckBoxElement),t.prop("checked",n.inverse),t=null),$q.isNull(n.isByValue)||$q.isNull(n.isByText)||(i=n.isByText?2:n.isByValue?0:1,jQuery(".radioButtonsList input:radio[value="+i+"]",this._containerElement).prop("checked",!0).trigger("click")),jQuery(this._numberFromElement).data("tTextBox").value(n.from),jQuery(this._numberToElement).data("tTextBox").value(n.to),jQuery(this._textAreaElement).val(n.text))},_onByValueSelectorChanged:function(n){this._isByValue=jQuery(n.currentTarget).val()==0;this._isByText=jQuery(n.currentTarget).val()==2;this._isByText?(jQuery(this._textAreaElement).closest(".row").show(),jQuery(this._numberFromElement).closest(".row").hide(),jQuery(this._numberToElement).closest(".row").hide()):this._isByValue?(jQuery(this._numberToElement).data("tTextBox").disable(),jQuery(this._textAreaElement).closest(".row").hide(),jQuery(this._numberFromElement).closest(".row").show(),jQuery(this._numberToElement).closest(".row").hide(),jQuery("label[for='"+jQuery(this._numberFromElement).attr("id")+"']",this._containerElement).text($l.SearchBlock.valueText)):(jQuery(this._numberToElement).data("tTextBox").enable(),jQuery("label[for='"+jQuery(this._numberFromElement).attr("id")+"']",this._containerElement).text($l.SearchBlock.fromText),jQuery(this._textAreaElement).closest(".row").hide(),jQuery(this._numberFromElement).closest(".row").show(),jQuery(this._numberToElement).closest(".row").show())},_onNumericInputFocus:function(n){var t=jQuery(n.currentTarget).data("tTextBox");n.currentTarget===this._numberFromElement?otherInput=jQuery(this._numberToElement).data("tTextBox"):n.currentTarget===this._numberToElement&&(otherInput=jQuery(this._numberFromElement).data("tTextBox"));otherInput&&otherInput.value()&&t&&!t.value()&&t.value(otherInput.value())},_onLoad:function(){$c.initAllNumericTextBoxes(this._containerElement)},dispose:function(){this._numberFromElement&&jQuery(this._numberFromElement).unbind("focus",this._onNumericInputFocusHandler);this._numberToElement&&jQuery(this._numberToElement).unbind("focus",this._onNumericInputFocusHandler);$c.destroyAllNumericTextBoxes(this._containerElement);var n=jQuery(this._containerElement);jQuery(".radioButtonsList input[type='radio']",n).unbind();n=null;this._inverseCheckBoxElement=null;this._numberFromElement=null;this._numberToElement=null;this._textAreaElement=null;this._onByValueSelectorChangedHandler=null;this._onNumericInputFocusHandler=null;this._onLoadHandler=null;Quantumart.QP8.BackendArticleSearchBlock.IdentifierFieldSearch.callBaseMethod(this,"dispose")},get_IsNull:function(){return this._inverseCheckBoxElement?jQuery(this._inverseCheckBoxElement).is(":checked"):!1},_isByValue:!0,_isByText:!1,_onNumericInputFocusHandler:null,_inverseCheckBoxElement:null,_numberFromElement:null,_numberToElement:null,_textAreaElement:null};Quantumart.QP8.BackendArticleSearchBlock.IdentifierFieldSearch.registerClass("Quantumart.QP8.BackendArticleSearchBlock.IdentifierFieldSearch",Quantumart.QP8.BackendArticleSearchBlock.FieldSearchBase);