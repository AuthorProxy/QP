Quantumart.QP8.BackendArticleSearchBlock.NumericRangeFieldSearch=function(n,t,i,r,u,f,e,o){Quantumart.QP8.BackendArticleSearchBlock.NumericRangeFieldSearch.initializeBase(this,[n,t,i,r,u,f,e,o]);this._onIsNullCheckBoxChangeHandler=jQuery.proxy(this._onIsNullCheckBoxChange,this);this._onByValueSelectorChangedHandler=jQuery.proxy(this._onByValueSelectorChanged,this);this._onNumericInputFocusHandler=jQuery.proxy(this._onNumericInputFocus,this);this._onLoadHandler=jQuery.proxy(this._onLoad,this)};Quantumart.QP8.BackendArticleSearchBlock.NumericRangeFieldSearch.prototype={initialize:function(){var i,r,t,u,f;if($q.getJsonFromUrl("GET",CONTROLLER_URL_ARTICLE_SEARCH_BLOCK+"NumericRange",{elementIdPrefix:this._elementIdPrefix},!1,!1,function(n){n.success?i=n.view:alert(n.message)},function(n){i=null;$q.processGenericAjaxError(n)}),!$q.isNullOrWhiteSpace(i)){var e=this._elementIdPrefix+"_isNullCheckBox",o=this._elementIdPrefix+"_numberFrom",s=this._elementIdPrefix+"_numberTo",h=this._elementIdPrefix+"_inverseCheckBox",n=jQuery(this._containerElement);n.html(i);r=n.find("#"+o);t=n.find("#"+s);r.focus(this._onNumericInputFocusHandler);t.focus(this._onNumericInputFocusHandler);this._numberFromElement=r.get(0);this._numberToElement=t.get(0);u=n.find("#"+e);u.bind("change",this._onIsNullCheckBoxChangeHandler);this._isNullCheckBoxElement=u.get(0);f=n.find("#"+h);this._inverseCheckBoxElement=f.get(0);jQuery(".radioButtonsList input[type='radio']",n).click(this._onByValueSelectorChangedHandler);jQuery(document).ready(this._onLoadHandler);t.data("tTextBox").disable();r=null;t=null;u=null;n=null}},get_searchQuery:function(){return Quantumart.QP8.BackendArticleSearchBlock.createFieldSearchQuery(Quantumart.QP8.Enums.ArticleFieldSearchType.NumericRange,this._fieldID,this._fieldColumn,this._contentID,this._referenceFieldID,this.get_IsNull(),jQuery(this._numberFromElement).data("tTextBox").value(),jQuery(this._numberToElement).data("tTextBox").value(),this._isByValue,this.get_Inverse())},get_blockState:function(){return new Quantumart.QP8.BackendArticleSearchBlock.FieldSearchState(Quantumart.QP8.Enums.ArticleFieldSearchType.NumericRange,this._fieldID,this._contentID,this._fieldColumn,this._fieldName,this._fieldGroup,this._referenceFieldID,{isNull:this.get_IsNull(),from:jQuery(this._numberFromElement).data("tTextBox").value(),to:jQuery(this._numberToElement).data("tTextBox").value(),isByValue:this._isByValue,inverse:this.get_Inverse()})},get_filterDetails:function(){var n=this.get_blockState().data,t;return t=n.isNull?$l.SearchBlock.isNullCheckBoxLabelText:n.isByValue?$.isNumeric(n.from)?n.from:"?":"["+($.isNumeric(n.from)?n.from:"?")+".."+($.isNumeric(n.to)?n.to:"?")+"]",n.inverse&&(t=$l.SearchBlock.notText+"("+t+")"),t},restore_blockState:function(n){var t,i;n&&(this._isNullCheckBoxElement&&(t=jQuery(this._isNullCheckBoxElement),t.prop("checked",n.isNull),t.trigger("change"),t=null),this._inverseCheckBoxElement&&(i=jQuery(this._inverseCheckBoxElement),i.prop("checked",n.inverse)),$q.isNull(n.isByValue)||(n.isByValue===!0?jQuery(".radioButtonsList input:radio[value=0]",this._containerElement).prop("checked",!0).trigger("click"):n.isByValue===!1&&jQuery(".radioButtonsList input:radio[value=1]",this._containerElement).prop("checked",!0).trigger("click")),jQuery(this._numberFromElement).data("tTextBox").value(n.from),jQuery(this._numberToElement).data("tTextBox").value(n.to))},_onIsNullCheckBoxChange:function(){this.get_IsNull()?(jQuery(this._numberFromElement).data("tTextBox").disable(),jQuery(this._numberToElement).data("tTextBox").disable()):(jQuery(this._numberFromElement).data("tTextBox").enable(),this._isByValue||jQuery(this._numberToElement).data("tTextBox").enable())},_onByValueSelectorChanged:function(n){this._isByValue=jQuery(n.currentTarget).val()==0;this._isByValue==!0?(jQuery(this._numberToElement).data("tTextBox").disable(),jQuery(this._numberToElement).closest(".row").hide(),jQuery("label[for='"+jQuery(this._numberFromElement).attr("id")+"']",this._containerElement).text($l.SearchBlock.valueText)):(this.get_IsNull()||jQuery(this._numberToElement).data("tTextBox").enable(),jQuery("label[for='"+jQuery(this._numberFromElement).attr("id")+"']",this._containerElement).text($l.SearchBlock.fromText),jQuery(this._numberToElement).closest(".row").show())},_onNumericInputFocus:function(n){var t=jQuery(n.currentTarget).data("tTextBox");n.currentTarget===this._numberFromElement?otherInput=jQuery(this._numberToElement).data("tTextBox"):n.currentTarget===this._numberToElement&&(otherInput=jQuery(this._numberFromElement).data("tTextBox"));otherInput&&otherInput.value()&&t&&!t.value()&&t.value(otherInput.value())},_onLoad:function(){$c.initAllNumericTextBoxes(this._containerElement)},dispose:function(){var n,t;this._isNullCheckBoxElement&&(n=jQuery(this._isNullCheckBoxElement),n.unbind("change",this._onIsNullCheckBoxChangeHandler),n=null);this._numberFromElement&&jQuery(this._numberFromElement).unbind("focus",this._onNumericInputFocusHandler);this._numberToElement&&jQuery(this._numberToElement).unbind("focus",this._onNumericInputFocusHandler);$c.destroyAllNumericTextBoxes(this._containerElement);t=jQuery(this._containerElement);jQuery(".radioButtonsList input[type='radio']",t).unbind();t=null;this._isNullCheckBoxElement=null;this._inverseCheckBoxElement=null;this._numberFromElement=null;this._numberToElement=null;this._onIsNullCheckBoxChangeHandler=null;this._onByValueSelectorChangedHandler=null;this._onNumericInputFocusHandler=null;this._onLoadHandler=null;Quantumart.QP8.BackendArticleSearchBlock.NumericRangeFieldSearch.callBaseMethod(this,"dispose")},get_IsNull:function(){return this._isNullCheckBoxElement?jQuery(this._isNullCheckBoxElement).is(":checked"):!1},get_Inverse:function(){return this._inverseCheckBoxElement?jQuery(this._inverseCheckBoxElement).is(":checked"):!1},_isByValue:!0,_onIsNullCheckBoxChangeHandler:null,_onNumericInputFocusHandler:null,_isNullCheckBoxElement:null,_numberFromElement:null,_numberToElement:null,_inverseCheckBoxElement:null};Quantumart.QP8.BackendArticleSearchBlock.NumericRangeFieldSearch.registerClass("Quantumart.QP8.BackendArticleSearchBlock.NumericRangeFieldSearch",Quantumart.QP8.BackendArticleSearchBlock.FieldSearchBase);