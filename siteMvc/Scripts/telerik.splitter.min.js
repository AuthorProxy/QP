(function(n){function e(n){return o.test(n)}function f(n){return s.test(n)}function i(n){return!e(n)&&!f(n)}function u(t,i){return function(r,u){var f=n(r).data("pane");if(arguments.length==1)return f[t];f[t]=u,i&&this.$element.trigger("resize")}}var t=n.telerik,r=7,s=/^\d+px$/i,o=/^\d+(\.\d+)?%$/i;t.scripts.push("telerik.splitter.js"),t.splitter=function(i,r){var o,u,e,f;this.element=i,o=this.$element=n(i),u=this,n.extend(this,r),e=this.orientation.toLowerCase()!="vertical"?"horizontal":"vertical",f=this.panes,this.orientation=e,t.bind(this,{load:this.onLoad,expand:this.onExpand,collapse:this.onCollapse,contentLoad:this.onContentLoad,resize:function(t){t.stopPropagation(),u.resize.call(u,t),n.isFunction(u.onResize)&&u.onResize.call(i,t)}}),n(window).resize(function(){o.trigger("resize")});var c=".t-splitbar-draggable-"+e,h=".t-splitbar .t-icon:not(.t-resize-handle)",s=function(r){return function(f){var o=n(f.target),e;if(o.closest(".t-splitter")[0]!=i)return;e=o.is(".t-"+r+"-prev")?o.parent().prev():o.parent().next(),t.trigger(i,r,{pane:e[0]})||u[r](e[0])}};o.addClass("t-widget").addClass("t-splitter").children().addClass("t-pane").each(n.proxy(function(t,i){var r=n(i);r.data("pane",f?f[t]:{}).toggleClass("t-scrollable",f?f[t].scrollable!==!1:!0),this.ajaxRequest(r)},this)).end().trigger("resize").delegate(c,"mouseenter",function(){n(this).addClass("t-splitbar-"+e+"-hover")}).delegate(c,"mouseleave",function(){n(this).removeClass("t-splitbar-"+e+"-hover")}).delegate(h,"mouseenter",t.hover).delegate(h,"mouseleave",t.leave).delegate(".t-splitbar .t-collapse-next, .t-splitbar .t-collapse-prev","click",s("collapse")).delegate(".t-splitbar .t-expand-next, .t-splitbar .t-expand-prev","click",s("expand")).delegate(".t-splitbar","dblclick",function(r){var e=n(r.target),o=function(n,r){t.trigger(i,n,{pane:r[0]})||u[n](r[0])},f;if(e.closest(".t-splitter")[0]!=i)return;f=e.children(".t-icon:not(.t-resize-handle)");if(f.length!==1)return;f.is(".t-collapse-prev")?o("collapse",e.prev()):f.is(".t-collapse-next")?o("collapse",e.next()):f.is(".t-expand-prev")?o("expand",e.prev()):f.is(".t-expand-next")&&o("expand",e.next())}).children(".t-pane").children(".t-splitter").trigger("resize").end().end().parent().closest(".t-splitter").bind("resize",function(){o.trigger("resize")}),this.resizing=new t.splitter.PaneResizing(this)},t.splitter.prototype={toggle:function(t,i){var t=n(t),c=t.prev(".t-splitbar"),h=t.next(".t-splitbar"),r=t.data("pane"),s=t.prevAll(".t-pane:first").data("pane"),o=t.nextAll(".t-pane:first").data("pane"),f=this.orientation,e="t-splitbar-"+f+"-hover",u="t-splitbar-draggable-"+f;arguments.length==1&&(i=r.collapsed===undefined?!1:r.collapsed),c.toggleClass(u,i&&r.resizable!==!1&&(!s||s.resizable!==!1)).removeClass(e).find(i?".t-expand-next":".t-collapse-next").toggleClass("t-expand-next",!i).toggleClass("t-collapse-next",i),h.toggleClass(u,i&&r.resizable!==!1&&(!o||o.resizable!==!1)).removeClass(e).find(i?".t-expand-prev":".t-collapse-prev").toggleClass("t-expand-prev",!i).toggleClass("t-collapse-prev",i),r.collapsed=!i,this.$element.trigger("resize")},collapse:function(n){this.toggle(n,!1)},expand:function(n){this.toggle(n,!0)},size:u("size",!0),minSize:u("minSize"),maxSize:u("maxSize"),ajaxOptions:function(i,r){var u=this;return n.extend({type:"POST",dataType:"html",success:function(n){i.html(n),t.trigger(u.element,"contentLoad",{pane:i[0]})}},r)},ajaxRequest:function(t,i,r){var u=n(t),f=u.data("pane");(i||f.contentUrl)&&(u.append("<span class='t-icon t-loading t-pane-loading' />"),n.ajax(this.ajaxOptions(u,{url:i||f.contentUrl,data:r||{}})))},resize:function(){var h=this.$element,d=h.children(":not(.t-splitbar):not(.t-ghost-splitbar)"),a=this.orientation=="horizontal",v=h.children(".t-splitbar").length,y=a?"width":"height",o=h[y](),p,b,c,s,w;if(v===0)for(v=d.length-1,p=0;p<v;p++){var k=d.eq(p),f=k.data("pane"),u=k.next().data("pane");if(!u)continue;b=f.resizable!==!1&&u.resizable!==!1,c=new t.stringBuilder,c.catIconIf=function(n,t){return t&&this.cat("<div class='t-icon ").cat(n).cat("' />"),this},c.cat("<div class='t-splitbar t-state-default t-splitbar-").cat(this.orientation).catIf(" t-splitbar-draggable-",this.orientation,b&&!f.collapsed&&!u.collapsed).cat("'>").catIconIf("t-collapse-prev",f.collapsible&&!f.collapsed).catIconIf("t-expand-prev",f.collapsible&&f.collapsed).catIconIf("t-resize-handle",b).catIconIf("t-collapse-next",u.collapsible&&!u.collapsed).catIconIf("t-expand-next",u.collapsible&&u.collapsed).cat("</div>"),k.after(c.string())}o-=r*v;var tt=0,ut=0,l=n();d.css({position:"absolute",top:0})[y](function(){var t=n(this).data("pane"),r;if(!t.collapsed&&t.size&&t.size.indexOf("NaN")!=-1)return!1;if(t.collapsed)r=0;else{if(i(t.size)){l=l.add(this);return}r=parseInt(t.size,10),e(t.size)&&(r=Math.floor(r*o/100))}return ut++,tt+=r,r}),o-=tt,s=l.length,w=Math.floor(o/s),l.slice(0,s-1).css(y,w).end().eq(s-1).css(y,o-(s-1)*w);var g=0,nt=a?"height":"width",rt=a?"left":"top",it=a?"offsetWidth":"offsetHeight";h.children().css(nt,h[nt]()).each(function(n,t){t.style[rt]=Math.floor(g)+"px",g+=t[it]})}},t.splitter.PaneResizing=function(i){this.owner=i,new t.draggable({distance:0,owner:i.element,selector:".t-splitbar-draggable-horizontal, .t-splitbar-draggable-vertical",scope:i.element.id,start:n.proxy(this.start,this),drag:n.proxy(this.drag,this),stop:n.proxy(this.stop,this)})},t.splitter.PaneResizing.prototype={start:function(i){t.isTouch&&i.stopImmediatePropagation(),this.owner.onDragStart&&this.owner.onDragStart();var h=i.$draggable,l=h.prev(),c=h.next(),y=l.data("pane"),v=c.data("pane"),u=this.owner.orientation==="horizontal",tt=u?"width":"height",g=u?"offsetWidth":"offsetHeight",a=u?"height":"width",d=t.touchLocation(i);this.positioningProperty=u?"left":"top",this.mousePositioningProperty=u?"x":"y",this.previousPane=l,this.nextPane=c,this.initialSplitBarPosition=parseInt(h[0].style[this.positioningProperty]),this.initialMousePosition=d[this.mousePositioningProperty],this.ghostSplitBar=n("<div class='t-ghost-splitbar t-ghost-splitbar-"+this.owner.orientation+" t-state-default' />").css(a,i.$draggable[a]()).css(this.positioningProperty,this.initialSplitBarPosition).appendTo(this.owner.$element);var o=parseInt(l[0].style[this.positioningProperty]),e=parseInt(c[0].style[this.positioningProperty])+c[0][g]-r,nt=this.owner.$element.css(tt),s=function(n){var t=parseInt(n,10);return(f(n)?t:nt*t/100)||0},w=s(y.minSize),k=s(y.maxSize)||e-o,b=s(v.minSize),p=s(v.maxSize)||e-o;this.maxSize=Math.min(e-b,o+k),this.minSize=Math.max(o+w,e-p),n(document.body).css("cursor",h.css("cursor"))},drag:function(n){t.isTouch&&n.stopImmediatePropagation();var r=t.touchLocation(n),i=Math.min(this.maxSize,Math.max(this.minSize,this.initialSplitBarPosition+(r[this.mousePositioningProperty]-this.initialMousePosition)));this.ghostSplitBar.toggleClass("t-restricted-size-"+this.owner.orientation,i==this.maxSize||i==this.minSize)[0].style[this.positioningProperty]=i+"px"},stop:function(u){var f;t.isTouch&&u.stopImmediatePropagation();if(u.keyCode!==27){var l=parseInt(this.ghostSplitBar[0].style[this.positioningProperty]),h=this.owner.orientation==="horizontal",v=h?"width":"height",y=h?"offsetWidth":"offsetHeight",e=this.previousPane.data("pane"),c=this.nextPane.data("pane"),o=l-parseInt(this.previousPane[0].style[this.positioningProperty]),s=parseInt(this.nextPane[0].style[this.positioningProperty])+this.nextPane[0][y]-l-r,p=this.owner.$element[v](),a=!t.isTouch||t.isTouch&&!isNaN(o)&&!isNaN(s);p-=r*this.owner.$element.children(".t-splitbar").length,f=this.owner.$element.children(".t-pane").filter(function(){return i(n(this).data("pane").size)}).length,(!i(e.size)||f>1)&&(i(e.size)&&f--,e.size=o+"px"),(!i(c.size)||f>1)&&(c.size=s+"px")}return this.ghostSplitBar.remove(),u.keyCode!==27&&a&&this.owner.$element.trigger("resize"),n(document.body).css("cursor",""),this.owner.onDrop&&this.owner.onDrop(),!1}},n.fn.tSplitter=function(n){return t.create(this,{name:"tSplitter",init:function(n,i){return new t.splitter(n,i)},options:n})},n.fn.tSplitter.defaults={orientation:"horizontal"}})(jQuery);