/*
Copyright (c) 2003-2010, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){(function(){var a=function(b,c){var d=1,e=2,f=4,g=8,h=/^\s*(\d+)((px)|\%)?\s*$/i,i=/(^\s*(\d+)((px)|\%)?\s*$)|^$/i,j=/^\d+px$/,k=function(){var D=this.getValue(),E=this.getDialog(),F=D.match(h);if(F){if(F[2]=='%')p(E,false);D=F[1];}if(E.lockRatio){var G=E.originalElement;if(G.getCustomData('isReady')=='true')if(this.id=='txtHeight'){if(D&&D!='0')D=Math.round(G.$.width*(D/G.$.height));if(!isNaN(D))E.setValueOf('info','txtWidth',D);}else{if(D&&D!='0')D=Math.round(G.$.height*(D/G.$.width));if(!isNaN(D))E.setValueOf('info','txtHeight',D);}}l(E);},l=function(D){if(!D.originalElement||!D.preview)return 1;D.commitContent(f,D.preview);return 0;};function m(){var D=arguments,E=this.getContentElement('advanced','txtdlgGenStyle');E&&E.commit.apply(E,D);this.foreach(function(F){if(F.commit&&F.id!='txtdlgGenStyle')F.commit.apply(F,D);});};var n;function o(D){if(n)return;n=1;var E=this.getDialog(),F=E.imageElement;if(F){this.commit(d,F);D=[].concat(D);var G=D.length,H;for(var I=0;I<G;I++){H=E.getContentElement.apply(E,D[I].split(':'));H&&H.setup(d,F);}}n=0;};var p=function(D,E){if(!D.getContentElement('info','ratioLock'))return null;var F=D.originalElement;if(!F)return null;if(E=='check'){if(!D.userlockRatio&&F.getCustomData('isReady')=='true'){var G=D.getValueOf('info','txtWidth'),H=D.getValueOf('info','txtHeight'),I=F.$.width*1000/F.$.height,J=G*1000/H;D.lockRatio=false;if(!G&&!H)D.lockRatio=true;else if(!isNaN(I)&&!isNaN(J))if(Math.round(I)==Math.round(J))D.lockRatio=true;}}else if(E!=undefined)D.lockRatio=E;else{D.userlockRatio=1;D.lockRatio=!D.lockRatio;}var K=CKEDITOR.document.getById(x);if(D.lockRatio)K.removeClass('cke_btn_unlocked');else K.addClass('cke_btn_unlocked');K.setAttribute('aria-checked',D.lockRatio);if(CKEDITOR.env.hc){var L=K.getChild(0);L.setHtml(D.lockRatio?CKEDITOR.env.ie?'■':'▣':CKEDITOR.env.ie?'□':'▢');}return D.lockRatio;},q=function(D){var E=D.originalElement;if(E.getCustomData('isReady')=='true'){var F=D.getContentElement('info','txtWidth'),G=D.getContentElement('info','txtHeight');F&&F.setValue(E.$.width);G&&G.setValue(E.$.height);}l(D);},r=function(D,E){if(D!=d)return;function F(K,L){var M=K.match(h);if(M){if(M[2]=='%'){M[1]+='%';p(G,false);}return M[1];}return L;};var G=this.getDialog(),H='',I=this.id=='txtWidth'?'width':'height',J=E.getAttribute(I);if(J)H=F(J,H);H=F(E.getStyle(I),H);this.setValue(H);},s,t=function(){var D=this.originalElement;D.setCustomData('isReady','true');D.removeListener('load',t);D.removeListener('error',u);
D.removeListener('abort',u);CKEDITOR.document.getById(z).setStyle('display','none');if(!this.dontResetSize)q(this);if(this.firstLoad)CKEDITOR.tools.setTimeout(function(){p(this,'check');},0,this);this.firstLoad=false;this.dontResetSize=false;},u=function(){var F=this;var D=F.originalElement;D.removeListener('load',t);D.removeListener('error',u);D.removeListener('abort',u);var E=CKEDITOR.getUrl(b.skinPath+'images/noimage.png');if(F.preview)F.preview.setAttribute('src',E);CKEDITOR.document.getById(z).setStyle('display','none');p(F,false);};function v(){var D=this.valueOf(),E=CKEDITOR.dialog.getCurrent(),F=jQuery(E.getParentEditor().element.$),G=D===true?F.data('imageWindow-content'):F.data('imageWindow-site');if(!G){var H=new Quantumart.QP8.BackendEventArgs();H.set_entityId(D===true?$q.toInt(F.data('content_id'),0):$q.toInt(F.data('library_entity_id'),0));H.set_parentEntityId($q.toInt(F.data('library_parent_entity_id'),0));H.set_entityTypeCode(D===true?ENTITY_TYPE_CODE_CONTENT:ENTITY_TYPE_CODE_SITE);H.set_actionCode(D===true?ACTION_CODE_POPUP_CONTENT_LIBRARY:ACTION_CODE_POPUP_SITE_LIBRARY);var I=parseInt(jQuery(CKEDITOR.dialog.getCurrent().getElement().$).find('.cke_dialog').css('zIndex'),10),J={additionalUrlParameters:{filterFileTypeId:Quantumart.QP8.Enums.LibraryFileType.Image,subFolder:''},zIndex:I+10,libraryUrl:F.data('library_url')};G=new Quantumart.QP8.LibraryPopupWindow(H,J);if(D===true)F.data('imageWindow-content',G);else F.data('imageWindow-site',G);G.setSelectCallback(jQuery.proxy(function(K){E.setValueOf('info','txtUrl',K);}),G);}G.setContentId(0);if(D===true)G.setContentId(F.data('content_id'));G.openWindow();H=null;J=null;F=null;};var w=function(D){return CKEDITOR.tools.getNextId()+'_'+D;},x=w('btnLockSizes'),y=w('btnResetSize'),z=w('ImagePreviewLoader'),A=w('ImagePreviewBox'),B=w('previewLink'),C=w('previewImage');return{title:b.lang.image[c=='image'?'title':'titleButton'],minWidth:460,minHeight:360,selectPopupWindowComponent:null,onShow:function(){var J=this;J.imageElement=false;J.linkElement=false;J.imageEditMode=false;J.linkEditMode=false;J.lockRatio=true;J.userlockRatio=0;J.dontResetSize=false;J.firstLoad=true;J.addLink=false;var D=J.getParentEditor(),E=J.getParentEditor().getSelection(),F=E.getSelectedElement(),G=F&&F.getAscendant('a');CKEDITOR.document.getById(z).setStyle('display','none');s=new CKEDITOR.dom.element('img',D.document);J.preview=CKEDITOR.document.getById(C);J.originalElement=D.document.createElement('img');J.originalElement.setAttribute('alt','');
J.originalElement.setCustomData('isReady','false');if(G){J.linkElement=G;J.linkEditMode=true;var H=G.getChildren();if(H.count()==1){var I=H.getItem(0).getName();if(I=='img'||I=='input'){J.imageElement=H.getItem(0);if(J.imageElement.getName()=='img')J.imageEditMode='img';else if(J.imageElement.getName()=='input')J.imageEditMode='input';}}if(c=='image')J.setupContent(e,G);}if(F&&F.getName()=='img'&&!F.data('cke-realelement')||F&&F.getName()=='input'&&F.getAttribute('type')=='image'){J.imageEditMode=F.getName();J.imageElement=F;}if(J.imageEditMode){J.cleanImageElement=J.imageElement;J.imageElement=J.cleanImageElement.clone(true,true);J.setupContent(d,J.imageElement);}else J.imageElement=D.document.createElement('img');p(J,true);if(!CKEDITOR.tools.trim(J.getValueOf('info','txtUrl'))){J.preview.removeAttribute('src');J.preview.setStyle('display','none');}},onOk:function(){var E=this;if(E.imageEditMode){var D=E.imageEditMode;if(c=='image'&&D=='input'&&confirm(b.lang.image.button2Img)){D='img';E.imageElement=b.document.createElement('img');E.imageElement.setAttribute('alt','');b.insertElement(E.imageElement);}else if(c!='image'&&D=='img'&&confirm(b.lang.image.img2Button)){D='input';E.imageElement=b.document.createElement('input');E.imageElement.setAttributes({type:'image',alt:''});b.insertElement(E.imageElement);}else{E.imageElement=E.cleanImageElement;delete E.cleanImageElement;}}else{if(c=='image')E.imageElement=b.document.createElement('img');else{E.imageElement=b.document.createElement('input');E.imageElement.setAttribute('type','image');}E.imageElement.setAttribute('alt','');}if(!E.linkEditMode)E.linkElement=b.document.createElement('a');E.commitContent(d,E.imageElement);E.commitContent(e,E.linkElement);if(!E.imageElement.getAttribute('style'))E.imageElement.removeAttribute('style');if(!E.imageEditMode){if(E.addLink){if(!E.linkEditMode){b.insertElement(E.linkElement);E.linkElement.append(E.imageElement,false);}else b.insertElement(E.imageElement);}else b.insertElement(E.imageElement);}else if(!E.linkEditMode&&E.addLink){b.insertElement(E.linkElement);E.imageElement.appendTo(E.linkElement);}else if(E.linkEditMode&&!E.addLink){b.getSelection().selectElement(E.linkElement);b.insertElement(E.imageElement);}},onLoad:function(){var E=this;if(c!='image')E.hidePage('Link');var D=E._.element.getDocument();if(E.getContentElement('info','ratioLock')){E.addFocusable(D.getById(y),5);E.addFocusable(D.getById(x),5);}E.commitContent=m;},onHide:function(){var D=this;if(D.preview)D.commitContent(g,D.preview);
if(D.originalElement){D.originalElement.removeListener('load',t);D.originalElement.removeListener('error',u);D.originalElement.removeListener('abort',u);D.originalElement.remove();D.originalElement=false;}if(D.selectPopupWindowComponent){D.selectPopupWindowComponent.dispose();D.selectPopupWindowComponent=null;D.selectPopupWindowComponent;}delete D.imageElement;},contents:[{id:'info',label:b.lang.image.infoTab,accessKey:'I',elements:[{type:'vbox',padding:0,children:[{type:'hbox',widths:['280px','110px'],align:'right',children:[{id:'txtUrl',type:'text',label:b.lang.common.url,required:true,onChange:function(){var D=this.getDialog(),E=this.getValue();if(E.length>0){D=this.getDialog();var F=D.originalElement;D.preview.removeStyle('display');F.setCustomData('isReady','false');var G=CKEDITOR.document.getById(z);if(G)G.setStyle('display','');F.on('load',t,D);F.on('error',u,D);F.on('abort',u,D);F.setAttribute('src',E);s.setAttribute('src',E);D.preview.setAttribute('src',s.$.src);l(D);}else if(D.preview){D.preview.removeAttribute('src');D.preview.setStyle('display','none');}},setup:function(D,E){if(D==d){var F=E.data('cke-saved-src')||E.getAttribute('src'),G=this;this.getDialog().dontResetSize=true;G.setValue(F);G.setInitValue();}},commit:function(D,E){var F=this;if(D==d&&(F.getValue()||F.isChanged())){E.data('cke-saved-src',F.getValue());E.setAttribute('src',F.getValue());}else if(D==g){E.setAttribute('src','');E.removeAttribute('src');}},validate:CKEDITOR.dialog.validate.notEmpty(b.lang.image.urlMissing)}]},{type:'hbox',widths:['30%','70%'],children:[{type:'button',id:'browse',style:'display:inline-block;margin-top:10px;',align:'center',label:b.lang.common.browseServer,onClick:jQuery.proxy(v,false)},{type:'button',id:'browseContent',style:'display:inline-block;margin-top:10px;',align:'center',label:b.lang.common.browseContentLibrary,onClick:jQuery.proxy(v,true)}]}]},{id:'txtAlt',type:'text',label:b.lang.image.alt,accessKey:'T','default':'',onChange:function(){l(this.getDialog());},setup:function(D,E){if(D==d)this.setValue(E.getAttribute('alt'));},commit:function(D,E){var F=this;if(D==d){if(F.getValue()||F.isChanged())E.setAttribute('alt',F.getValue());}else if(D==f)E.setAttribute('alt',F.getValue());else if(D==g)E.removeAttribute('alt');}},{type:'hbox',children:[{id:'basic',type:'vbox',children:[{type:'hbox',widths:['50%','50%'],children:[{type:'vbox',padding:1,children:[{type:'text',width:'40px',id:'txtWidth',label:b.lang.common.width,onKeyUp:k,onChange:function(){o.call(this,'advanced:txtdlgGenStyle');
},validate:function(){var D=this.getValue().match(i),E=!!(D&&parseInt(D[1],10)!==0);if(!E)alert(b.lang.common.invalidWidth);return E;},setup:r,commit:function(D,E,F){var G=this.getValue();if(D==d){if(G)E.setStyle('width',CKEDITOR.tools.cssLength(G));else E.removeStyle('width');!F&&E.removeAttribute('width');}else if(D==f){var H=G.match(h);if(!H){var I=this.getDialog().originalElement;if(I.getCustomData('isReady')=='true')E.setStyle('width',I.$.width+'px');}else E.setStyle('width',CKEDITOR.tools.cssLength(G));}else if(D==g){E.removeAttribute('width');E.removeStyle('width');}}},{type:'text',id:'txtHeight',width:'40px',label:b.lang.common.height,onKeyUp:k,onChange:function(){o.call(this,'advanced:txtdlgGenStyle');},validate:function(){var D=this.getValue().match(i),E=!!(D&&parseInt(D[1],10)!==0);if(!E)alert(b.lang.common.invalidHeight);return E;},setup:r,commit:function(D,E,F){var G=this.getValue();if(D==d){if(G)E.setStyle('height',CKEDITOR.tools.cssLength(G));else E.removeStyle('height');!F&&E.removeAttribute('height');}else if(D==f){var H=G.match(h);if(!H){var I=this.getDialog().originalElement;if(I.getCustomData('isReady')=='true')E.setStyle('height',I.$.height+'px');}else E.setStyle('height',CKEDITOR.tools.cssLength(G));}else if(D==g){E.removeAttribute('height');E.removeStyle('height');}}}]},{id:'ratioLock',type:'html',style:'margin-top:30px;width:40px;height:40px;',onLoad:function(){var D=CKEDITOR.document.getById(y),E=CKEDITOR.document.getById(x);if(D){D.on('click',function(F){q(this);F.data&&F.data.preventDefault();},this.getDialog());D.on('mouseover',function(){this.addClass('cke_btn_over');},D);D.on('mouseout',function(){this.removeClass('cke_btn_over');},D);}if(E){E.on('click',function(F){var K=this;var G=p(K),H=K.originalElement,I=K.getValueOf('info','txtWidth');if(H.getCustomData('isReady')=='true'&&I){var J=H.$.height/H.$.width*I;if(!isNaN(J)){K.setValueOf('info','txtHeight',Math.round(J));l(K);}}F.data&&F.data.preventDefault();},this.getDialog());E.on('mouseover',function(){this.addClass('cke_btn_over');},E);E.on('mouseout',function(){this.removeClass('cke_btn_over');},E);}},html:'<div><a href="javascript:void(0)" tabindex="-1" title="'+b.lang.image.lockRatio+'" class="cke_btn_locked" id="'+x+'" role="checkbox"><span class="cke_icon"></span><span class="cke_label">'+b.lang.image.lockRatio+'</span></a>'+'<a href="javascript:void(0)" tabindex="-1" title="'+b.lang.image.resetSize+'" class="cke_btn_reset" id="'+y+'" role="button"><span class="cke_label">'+b.lang.image.resetSize+'</span></a>'+'</div>'}]},{type:'vbox',padding:1,children:[{type:'text',id:'txtBorder',width:'60px',label:b.lang.image.border,'default':'',onKeyUp:function(){l(this.getDialog());
},onChange:function(){o.call(this,'advanced:txtdlgGenStyle');},validate:CKEDITOR.dialog.validate.integer(b.lang.image.validateBorder),setup:function(D,E){if(D==d){var F,G=E.getStyle('border-width');G=G&&G.match(/^(\d+px)(?: \1 \1 \1)?$/);F=G&&parseInt(G[1],10);isNaN(parseInt(F,10))&&(F=E.getAttribute('border'));this.setValue(F);}},commit:function(D,E,F){var G=parseInt(this.getValue(),10);if(D==d||D==f){if(!isNaN(G)){E.setStyle('border-width',CKEDITOR.tools.cssLength(G));E.setStyle('border-style','solid');}else if(!G&&this.isChanged()){E.removeStyle('border-width');E.removeStyle('border-style');E.removeStyle('border-color');}if(!F&&D==d)E.removeAttribute('border');}else if(D==g){E.removeAttribute('border');E.removeStyle('border-width');E.removeStyle('border-style');E.removeStyle('border-color');}}},{type:'text',id:'txtHSpace',width:'60px',label:b.lang.image.hSpace,'default':'',onKeyUp:function(){l(this.getDialog());},onChange:function(){o.call(this,'advanced:txtdlgGenStyle');},validate:CKEDITOR.dialog.validate.integer(b.lang.image.validateHSpace),setup:function(D,E){if(D==d){var F,G,H,I=E.getStyle('margin-left'),J=E.getStyle('margin-right');I=I&&I.match(j);J=J&&J.match(j);G=parseInt(I,10);H=parseInt(J,10);F=G==H&&G;isNaN(parseInt(F,10))&&(F=E.getAttribute('hspace'));this.setValue(F);}},commit:function(D,E,F){var G=parseInt(this.getValue(),10);if(D==d||D==f){if(!isNaN(G)){E.setStyle('margin-left',CKEDITOR.tools.cssLength(G));E.setStyle('margin-right',CKEDITOR.tools.cssLength(G));}else if(!G&&this.isChanged()){E.removeStyle('margin-left');E.removeStyle('margin-right');}if(!F&&D==d)E.removeAttribute('hspace');}else if(D==g){E.removeAttribute('hspace');E.removeStyle('margin-left');E.removeStyle('margin-right');}}},{type:'text',id:'txtVSpace',width:'60px',label:b.lang.image.vSpace,'default':'',onKeyUp:function(){l(this.getDialog());},onChange:function(){o.call(this,'advanced:txtdlgGenStyle');},validate:CKEDITOR.dialog.validate.integer(b.lang.image.validateVSpace),setup:function(D,E){if(D==d){var F,G,H,I=E.getStyle('margin-top'),J=E.getStyle('margin-bottom');I=I&&I.match(j);J=J&&J.match(j);G=parseInt(I,10);H=parseInt(J,10);F=G==H&&G;isNaN(parseInt(F,10))&&(F=E.getAttribute('vspace'));this.setValue(F);}},commit:function(D,E,F){var G=parseInt(this.getValue(),10);if(D==d||D==f){if(!isNaN(G)){E.setStyle('margin-top',CKEDITOR.tools.cssLength(G));E.setStyle('margin-bottom',CKEDITOR.tools.cssLength(G));}else if(!G&&this.isChanged()){E.removeStyle('margin-top');E.removeStyle('margin-bottom');
}if(!F&&D==d)E.removeAttribute('vspace');}else if(D==g){E.removeAttribute('vspace');E.removeStyle('margin-top');E.removeStyle('margin-bottom');}}},{id:'cmbAlign',type:'select',widths:['35%','65%'],style:'width:90px',label:b.lang.common.align,'default':'',items:[[b.lang.common.notSet,''],[b.lang.common.alignLeft,'left'],[b.lang.common.alignRight,'right']],onChange:function(){l(this.getDialog());o.call(this,'advanced:txtdlgGenStyle');},setup:function(D,E){if(D==d){var F=E.getStyle('float');switch(F){case 'inherit':case 'none':F='';}!F&&(F=(E.getAttribute('align')||'').toLowerCase());this.setValue(F);}},commit:function(D,E,F){var G=this.getValue();if(D==d||D==f){if(G)E.setStyle('float',G);else E.removeStyle('float');if(!F&&D==d){G=(E.getAttribute('align')||'').toLowerCase();switch(G){case 'left':case 'right':E.removeAttribute('align');}}}else if(D==g)E.removeStyle('float');}}]}]},{type:'vbox',height:'250px',children:[{type:'html',id:'htmlPreview',style:'width:95%;',html:'<div>'+CKEDITOR.tools.htmlEncode(b.lang.common.preview)+'<br>'+'<div id="'+z+'" class="ImagePreviewLoader" style="display:none"><div class="loading">&nbsp;</div></div>'+'<div id="'+A+'" class="ImagePreviewBox"><table><tr><td>'+'<a href="javascript:void(0)" target="_blank" onclick="return false;" id="'+B+'">'+'<img id="'+C+'" alt="" /></a>'+(b.config.image_previewText||'Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Maecenas feugiat consequat diam. Maecenas metus. Vivamus diam purus, cursus a, commodo non, facilisis vitae, nulla. Aenean dictum lacinia tortor. Nunc iaculis, nibh non iaculis aliquam, orci felis euismod neque, sed ornare massa mauris sed velit. Nulla pretium mi et risus. Fusce mi pede, tempor id, cursus ac, ullamcorper nec, enim. Sed tortor. Curabitur molestie. Duis velit augue, condimentum at, ultrices a, luctus ut, orci. Donec pellentesque egestas eros. Integer cursus, augue in cursus faucibus, eros pede bibendum sem, in tempus tellus justo quis ligula. Etiam eget tortor. Vestibulum rutrum, est ut placerat elementum, lectus nisl aliquam velit, tempor aliquam eros nunc nonummy metus. In eros metus, gravida a, gravida sed, lobortis id, turpis. Ut ultrices, ipsum at venenatis fringilla, sem nulla lacinia tellus, eget aliquet turpis mauris non enim. Nam turpis. Suspendisse lacinia. Curabitur ac tortor ut ipsum egestas elementum. Nunc imperdiet gravida mauris.')+'</td></tr></table></div></div>'}]}]}]},{id:'Link',label:b.lang.link.title,padding:0,elements:[{id:'txtUrl',type:'text',label:b.lang.common.url,style:'width: 100%','default':'',setup:function(D,E){if(D==e){var F=E.data('cke-saved-href');
if(!F)F=E.getAttribute('href');this.setValue(F);}},commit:function(D,E){var G=this;if(D==e)if(G.getValue()||G.isChanged()){var F=decodeURI(G.getValue());E.data('cke-saved-href',F);E.setAttribute('href',F);if(G.getValue()||!b.config.image_removeLinkByEmptyURL)G.getDialog().addLink=true;}}},{type:'button',id:'browse',filebrowser:{action:'Browse',target:'Link:txtUrl',url:b.config.filebrowserImageBrowseLinkUrl},style:'float:right',hidden:true,label:b.lang.common.browseServer},{id:'cmbTarget',type:'select',label:b.lang.common.target,'default':'',items:[[b.lang.common.notSet,''],[b.lang.common.targetNew,'_blank'],[b.lang.common.targetTop,'_top'],[b.lang.common.targetSelf,'_self'],[b.lang.common.targetParent,'_parent']],setup:function(D,E){if(D==e)this.setValue(E.getAttribute('target')||'');},commit:function(D,E){if(D==e)if(this.getValue()||this.isChanged())E.setAttribute('target',this.getValue());}}]},{id:'Upload',hidden:true,filebrowser:'uploadButton',label:b.lang.image.upload,elements:[{type:'file',id:'upload',label:b.lang.image.btnUpload,style:'height:40px',size:38},{type:'fileButton',id:'uploadButton',filebrowser:'info:txtUrl',label:b.lang.image.btnUpload,'for':['Upload','upload']}]},{id:'advanced',label:b.lang.common.advancedTab,elements:[{type:'hbox',widths:['50%','25%','25%'],children:[{type:'text',id:'linkId',label:b.lang.common.id,setup:function(D,E){if(D==d)this.setValue(E.getAttribute('id'));},commit:function(D,E){if(D==d)if(this.getValue()||this.isChanged())E.setAttribute('id',this.getValue());}},{id:'cmbLangDir',type:'select',style:'width : 100px;',label:b.lang.common.langDir,'default':'',items:[[b.lang.common.notSet,''],[b.lang.common.langDirLtr,'ltr'],[b.lang.common.langDirRtl,'rtl']],setup:function(D,E){if(D==d)this.setValue(E.getAttribute('dir'));},commit:function(D,E){if(D==d)if(this.getValue()||this.isChanged())E.setAttribute('dir',this.getValue());}},{type:'text',id:'txtLangCode',label:b.lang.common.langCode,'default':'',setup:function(D,E){if(D==d)this.setValue(E.getAttribute('lang'));},commit:function(D,E){if(D==d)if(this.getValue()||this.isChanged())E.setAttribute('lang',this.getValue());}}]},{type:'text',id:'txtGenLongDescr',label:b.lang.common.longDescr,setup:function(D,E){if(D==d)this.setValue(E.getAttribute('longDesc'));},commit:function(D,E){if(D==d)if(this.getValue()||this.isChanged())E.setAttribute('longDesc',this.getValue());}},{type:'hbox',widths:['50%','50%'],children:[{type:'text',id:'txtGenClass',label:b.lang.common.cssClass,'default':'',setup:function(D,E){if(D==d)this.setValue(E.getAttribute('class'));
},commit:function(D,E){if(D==d)if(this.getValue()||this.isChanged())E.setAttribute('class',this.getValue());}},{type:'text',id:'txtGenTitle',label:b.lang.common.advisoryTitle,'default':'',onChange:function(){l(this.getDialog());},setup:function(D,E){if(D==d)this.setValue(E.getAttribute('title'));},commit:function(D,E){var F=this;if(D==d){if(F.getValue()||F.isChanged())E.setAttribute('title',F.getValue());}else if(D==f)E.setAttribute('title',F.getValue());else if(D==g)E.removeAttribute('title');}}]},{type:'text',id:'txtdlgGenStyle',label:b.lang.common.cssStyle,'default':'',setup:function(D,E){if(D==d){var F=E.getAttribute('style');if(!F&&E.$.style.cssText)F=E.$.style.cssText;this.setValue(F);var G=E.$.style.height,H=E.$.style.width,I=(G?G:'').match(h),J=(H?H:'').match(h);this.attributesInStyle={height:!!I,width:!!J};}},onChange:function(){o.call(this,['info:cmbFloat','info:cmbAlign','info:txtVSpace','info:txtHSpace','info:txtBorder','info:txtWidth','info:txtHeight']);l(this);},commit:function(D,E){if(D==d&&(this.getValue()||this.isChanged()))E.setAttribute('style',this.getValue());}}]}]};};CKEDITOR.dialog.add('image',function(b){return a(b,'image');});CKEDITOR.dialog.add('imagebutton',function(b){return a(b,'imagebutton');});})();})();
