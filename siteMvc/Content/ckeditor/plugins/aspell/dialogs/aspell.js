/*
Copyright (c) 2003-2010, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){window.FCKLang=null;window.OnSpellerControlsLoad=null;CKEDITOR.dialog.add('aspell',function(a){var b=CKEDITOR.tools.getNextNumber(),c='cke_frame_'+b,d='cke_data_'+b,e,f=a.lang.spellCheck.notAvailable,g='<textarea name="'+d+'" id="'+d+'" style="display: none;"></textarea>'+'<iframe src="" style="width:485px; height:380px"'+' frameborder="0" name="'+c+'" id="'+c+'"'+' allowtransparency="1"></iframe>';function h(l,m){var n=0;return function(){if(typeof window.spellChecker=='function'){if(typeof e!='undefined')window.clearInterval(e);var o=new spellChecker(document.getElementById(d));o.spellCheckScript='/Backend/VisualEditorConfig/AspellCheck';o.OnFinished=function(p){i(l,p);};o.popUpUrl=a.plugins.aspell.path+'spellerpages/spellchecker.html';o.popUpName=c;o.popUpProps=null;FCKLang={};FCKLang.DlgSpellNoChanges=CKEDITOR.lang[a.langCode].spellCheck.noChanges;FCKLang.DlgSpellNoMispell=CKEDITOR.lang[a.langCode].spellCheck.noMispell;FCKLang.DlgSpellOneChange=CKEDITOR.lang[a.langCode].spellCheck.oneChange;FCKLang.DlgSpellManyChanges=CKEDITOR.lang[a.langCode].spellCheck.manyChanges;FCKLang.DlgSpellNotInDic=CKEDITOR.lang[a.langCode].spellCheck.notInDic;FCKLang.DlgSpellChangeTo=CKEDITOR.lang[a.langCode].spellCheck.changeTo;FCKLang.DlgSpellBtnIgnore=CKEDITOR.lang[a.langCode].spellCheck.btnIgnore;FCKLang.DlgSpellBtnIgnoreAll=CKEDITOR.lang[a.langCode].spellCheck.btnIgnoreAll;FCKLang.DlgSpellBtnReplace=CKEDITOR.lang[a.langCode].spellCheck.btnReplace;FCKLang.DlgSpellBtnReplaceAll=CKEDITOR.lang[a.langCode].spellCheck.btnReplaceAll;FCKLang.DlgSpellBtnUndo=CKEDITOR.lang[a.langCode].spellCheck.btnUndo;FCKLang.DlgSpellNoSuggestions=CKEDITOR.lang[a.langCode].spellCheck.noSuggestions;FCKLang.DlgSpellProgress=CKEDITOR.lang[a.langCode].spellCheck.progress;o.openChecker();}else if(n++==180){alert(m);l.hide();}};};function i(l,m){if(m>0){a.focus();a.fire('saveSnapshot');l.getParentEditor().setData(document.getElementById(d).value);a.fire('saveSnapshot');}l.hide();};var j=485,k=380;if(document.all){j=510;k=405;}return{title:a.lang.spellCheck.title,minWidth:j,minHeight:k,buttons:[CKEDITOR.dialog.cancelButton],resizable:0,onShow:function(){var l=this.getContentElement('general','content').getElement();l.setHtml(g);OnSpellerControlsLoad=function(n){var o=n.document.getElementsByTagName('span'),p=n.document.getElementsByTagName('input'),q,r;for(q=0;q<o.length;q++){r=o[q].getAttribute&&o[q].getAttribute('fckLang');if(r)o[q].innerHTML=FCKLang[r];}for(q=0;q<p.length;q++){r=p[q].getAttribute&&p[q].getAttribute('fckLang');
if(r)p[q].value=FCKLang[r];}};CKEDITOR.document.getHead().append(CKEDITOR.document.createElement('script',{attributes:{type:'text/javascript',src:a.plugins.aspell.path+'spellerpages/spellChecker.js'}}));var m=a.getData();document.getElementById(d).value=m;e=window.setInterval(h(this,f),250);},onHide:function(){window.ooo=undefined;window.int_framsetLoaded=undefined;window.framesetLoaded=undefined;window.is_window_opened=false;OnSpellerControlsLoad=null;FCKLang=null;},contents:[{id:'general',label:a.lang.spellCheck.title,padding:0,elements:[{type:'html',id:'content',style:'width:485;height:380px',html:'<div></div>'}]}]};});})();
